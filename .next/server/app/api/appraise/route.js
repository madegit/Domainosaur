/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/appraise/route";
exports.ids = ["app/api/appraise/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fappraise%2Froute&page=%2Fapi%2Fappraise%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fappraise%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fappraise%2Froute&page=%2Fapi%2Fappraise%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fappraise%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _home_runner_workspace_src_app_api_appraise_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./src/app/api/appraise/route.ts */ \"(rsc)/./src/app/api/appraise/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_home_runner_workspace_src_app_api_appraise_route_ts__WEBPACK_IMPORTED_MODULE_16__]);\n_home_runner_workspace_src_app_api_appraise_route_ts__WEBPACK_IMPORTED_MODULE_16__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/appraise/route\",\n        pathname: \"/api/appraise\",\n        filename: \"route\",\n        bundlePath: \"app/api/appraise/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"/home/runner/workspace/src/app/api/appraise/route.ts\",\n    nextConfigOutput,\n    userland: _home_runner_workspace_src_app_api_appraise_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/appraise/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        // if we aren't wrapped by base-server handle here\n        if (!activeSpan && !(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhcHByYWlzZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYXBwcmFpc2UlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhcHByYWlzZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEJmlzR2xvYmFsTm90Rm91bmRFbmFibGVkPSEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDZDtBQUNTO0FBQ087QUFDSztBQUNtQztBQUNqRDtBQUNPO0FBQ2Y7QUFDc0M7QUFDekI7QUFDTTtBQUNDO0FBQ2hCO0FBQ2U7QUFDakY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYSxPQUFvQyxJQUFJLENBQUU7QUFDdkQsd0JBQXdCLE1BQXVDO0FBQy9EO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFB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O0FBQ0E7QUFDQSxVQUFVO0FBQ1YsNkVBQTZFLGdGQUFjO0FBQzNGLGlDQUFpQyxRQUFRLEVBQUUsUUFBUTtBQUNuRCwwQkFBMEIsdUVBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxNQUFNO0FBQ047QUFDQSw0Q0FBNEMsNkZBQWU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMkZBQW1CO0FBQ3JEO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZFQUFZO0FBQzFCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCB7IGdldFJlcXVlc3RNZXRhIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVxdWVzdC1tZXRhXCI7XG5pbXBvcnQgeyBnZXRUcmFjZXIsIFNwYW5LaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL3RyYWNlclwiO1xuaW1wb3J0IHsgbm9ybWFsaXplQXBwUGF0aCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvYXBwLXBhdGhzXCI7XG5pbXBvcnQgeyBOb2RlTmV4dFJlcXVlc3QsIE5vZGVOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9iYXNlLWh0dHAvbm9kZVwiO1xuaW1wb3J0IHsgTmV4dFJlcXVlc3RBZGFwdGVyLCBzaWduYWxGcm9tTm9kZVJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL25leHQtcmVxdWVzdFwiO1xuaW1wb3J0IHsgQmFzZVNlcnZlclNwYW4gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZXRSZXZhbGlkYXRlUmVhc29uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvaW5zdHJ1bWVudGF0aW9uL3V0aWxzXCI7XG5pbXBvcnQgeyBzZW5kUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9zZW5kLXJlc3BvbnNlXCI7XG5pbXBvcnQgeyBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMsIHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvdXRpbHNcIjtcbmltcG9ydCB7IGdldENhY2hlQ29udHJvbEhlYWRlciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9jYWNoZS1jb250cm9sXCI7XG5pbXBvcnQgeyBJTkZJTklURV9DQUNIRSwgTkVYVF9DQUNIRV9UQUdTX0hFQURFUiB9IGZyb20gXCJuZXh0L2Rpc3QvbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTm9GYWxsYmFja0Vycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL25vLWZhbGxiYWNrLWVycm9yLmV4dGVybmFsXCI7XG5pbXBvcnQgeyBDYWNoZWRSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXNwb25zZS1jYWNoZVwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvc3JjL2FwcC9hcGkvYXBwcmFpc2Uvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FwcHJhaXNlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXBwcmFpc2VcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FwcHJhaXNlL3JvdXRlXCJcbiAgICB9LFxuICAgIGRpc3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9ESVNUX0RJUiB8fCAnJyxcbiAgICByZWxhdGl2ZVByb2plY3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9QUk9KRUNUX0RJUiB8fCAnJyxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvc3JjL2FwcC9hcGkvYXBwcmFpc2Uvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcywgY3R4KSB7XG4gICAgdmFyIF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbDtcbiAgICBsZXQgc3JjUGFnZSA9IFwiL2FwaS9hcHByYWlzZS9yb3V0ZVwiO1xuICAgIC8vIHR1cmJvcGFjayBkb2Vzbid0IG5vcm1hbGl6ZSBgL2luZGV4YCBpbiB0aGUgcGFnZSBuYW1lXG4gICAgLy8gc28gd2UgbmVlZCB0byB0byBwcm9jZXNzIGR5bmFtaWMgcm91dGVzIHByb3Blcmx5XG4gICAgLy8gVE9ETzogZml4IHR1cmJvcGFjayBwcm92aWRpbmcgZGlmZmVyaW5nIHZhbHVlIGZyb20gd2VicGFja1xuICAgIGlmIChwcm9jZXNzLmVudi5UVVJCT1BBQ0spIHtcbiAgICAgICAgc3JjUGFnZSA9IHNyY1BhZ2UucmVwbGFjZSgvXFwvaW5kZXgkLywgJycpIHx8ICcvJztcbiAgICB9IGVsc2UgaWYgKHNyY1BhZ2UgPT09ICcvaW5kZXgnKSB7XG4gICAgICAgIC8vIHdlIGFsd2F5cyBub3JtYWxpemUgL2luZGV4IHNwZWNpZmljYWxseVxuICAgICAgICBzcmNQYWdlID0gJy8nO1xuICAgIH1cbiAgICBjb25zdCBtdWx0aVpvbmVEcmFmdE1vZGUgPSBwcm9jZXNzLmVudi5fX05FWFRfTVVMVElfWk9ORV9EUkFGVF9NT0RFO1xuICAgIGNvbnN0IHByZXBhcmVSZXN1bHQgPSBhd2FpdCByb3V0ZU1vZHVsZS5wcmVwYXJlKHJlcSwgcmVzLCB7XG4gICAgICAgIHNyY1BhZ2UsXG4gICAgICAgIG11bHRpWm9uZURyYWZ0TW9kZVxuICAgIH0pO1xuICAgIGlmICghcHJlcGFyZVJlc3VsdCkge1xuICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICAgICAgcmVzLmVuZCgnQmFkIFJlcXVlc3QnKTtcbiAgICAgICAgY3R4LndhaXRVbnRpbCA9PSBudWxsID8gdm9pZCAwIDogY3R4LndhaXRVbnRpbC5jYWxsKGN0eCwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBidWlsZElkLCBwYXJhbXMsIG5leHRDb25maWcsIGlzRHJhZnRNb2RlLCBwcmVyZW5kZXJNYW5pZmVzdCwgcm91dGVyU2VydmVyQ29udGV4dCwgaXNPbkRlbWFuZFJldmFsaWRhdGUsIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLCByZXNvbHZlZFBhdGhuYW1lIH0gPSBwcmVwYXJlUmVzdWx0O1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTcmNQYWdlID0gbm9ybWFsaXplQXBwUGF0aChzcmNQYWdlKTtcbiAgICBsZXQgaXNJc3IgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdIHx8IHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgaWYgKGlzSXNyICYmICFpc0RyYWZ0TW9kZSkge1xuICAgICAgICBjb25zdCBpc1ByZXJlbmRlcmVkID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgICAgICBjb25zdCBwcmVyZW5kZXJJbmZvID0gcHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV07XG4gICAgICAgIGlmIChwcmVyZW5kZXJJbmZvKSB7XG4gICAgICAgICAgICBpZiAocHJlcmVuZGVySW5mby5mYWxsYmFjayA9PT0gZmFsc2UgJiYgIWlzUHJlcmVuZGVyZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm9GYWxsYmFja0Vycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGNhY2hlS2V5ID0gbnVsbDtcbiAgICBpZiAoaXNJc3IgJiYgIXJvdXRlTW9kdWxlLmlzRGV2ICYmICFpc0RyYWZ0TW9kZSkge1xuICAgICAgICBjYWNoZUtleSA9IHJlc29sdmVkUGF0aG5hbWU7XG4gICAgICAgIC8vIGVuc3VyZSAvaW5kZXggYW5kIC8gaXMgbm9ybWFsaXplZCB0byBvbmUga2V5XG4gICAgICAgIGNhY2hlS2V5ID0gY2FjaGVLZXkgPT09ICcvaW5kZXgnID8gJy8nIDogY2FjaGVLZXk7XG4gICAgfVxuICAgIGNvbnN0IHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlID0gLy8gSWYgd2UncmUgaW4gZGV2ZWxvcG1lbnQsIHdlIGFsd2F5cyBzdXBwb3J0IGR5bmFtaWMgSFRNTFxuICAgIHJvdXRlTW9kdWxlLmlzRGV2ID09PSB0cnVlIHx8IC8vIElmIHRoaXMgaXMgbm90IFNTRyBvciBkb2VzIG5vdCBoYXZlIHN0YXRpYyBwYXRocywgdGhlbiBpdCBzdXBwb3J0c1xuICAgIC8vIGR5bmFtaWMgSFRNTC5cbiAgICAhaXNJc3I7XG4gICAgLy8gVGhpcyBpcyBhIHJldmFsaWRhdGlvbiByZXF1ZXN0IGlmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHN0YXRpY1xuICAgIC8vIHBhZ2UgYW5kIGl0IGlzIG5vdCBiZWluZyByZXN1bWVkIGZyb20gYSBwb3N0cG9uZWQgcmVuZGVyIGFuZFxuICAgIC8vIGl0IGlzIG5vdCBhIGR5bmFtaWMgUlNDIHJlcXVlc3QgdGhlbiBpdCBpcyBhIHJldmFsaWRhdGlvblxuICAgIC8vIHJlcXVlc3QuXG4gICAgY29uc3QgaXNSZXZhbGlkYXRlID0gaXNJc3IgJiYgIXN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlO1xuICAgIGNvbnN0IG1ldGhvZCA9IHJlcS5tZXRob2QgfHwgJ0dFVCc7XG4gICAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKCk7XG4gICAgY29uc3QgYWN0aXZlU3BhbiA9IHRyYWNlci5nZXRBY3RpdmVTY29wZVNwYW4oKTtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICByZW5kZXJPcHRzOiB7XG4gICAgICAgICAgICBleHBlcmltZW50YWw6IHtcbiAgICAgICAgICAgICAgICBjYWNoZUNvbXBvbmVudHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuY2FjaGVDb21wb25lbnRzKSxcbiAgICAgICAgICAgICAgICBhdXRoSW50ZXJydXB0czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5hdXRoSW50ZXJydXB0cylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSxcbiAgICAgICAgICAgIGluY3JlbWVudGFsQ2FjaGU6IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2luY3JlbWVudGFsQ2FjaGUnKSxcbiAgICAgICAgICAgIGNhY2hlTGlmZVByb2ZpbGVzOiAoX25leHRDb25maWdfZXhwZXJpbWVudGFsID0gbmV4dENvbmZpZy5leHBlcmltZW50YWwpID09IG51bGwgPyB2b2lkIDAgOiBfbmV4dENvbmZpZ19leHBlcmltZW50YWwuY2FjaGVMaWZlLFxuICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsLFxuICAgICAgICAgICAgb25DbG9zZTogKGNiKT0+e1xuICAgICAgICAgICAgICAgIHJlcy5vbignY2xvc2UnLCBjYik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25BZnRlclRhc2tFcnJvcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb25JbnN0cnVtZW50YXRpb25SZXF1ZXN0RXJyb3I6IChlcnJvciwgX3JlcXVlc3QsIGVycm9yQ29udGV4dCk9PnJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyb3IsIGVycm9yQ29udGV4dCwgcm91dGVyU2VydmVyQ29udGV4dClcbiAgICAgICAgfSxcbiAgICAgICAgc2hhcmVkQ29udGV4dDoge1xuICAgICAgICAgICAgYnVpbGRJZFxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBub2RlTmV4dFJlcSA9IG5ldyBOb2RlTmV4dFJlcXVlc3QocmVxKTtcbiAgICBjb25zdCBub2RlTmV4dFJlcyA9IG5ldyBOb2RlTmV4dFJlc3BvbnNlKHJlcyk7XG4gICAgY29uc3QgbmV4dFJlcSA9IE5leHRSZXF1ZXN0QWRhcHRlci5mcm9tTm9kZU5leHRSZXF1ZXN0KG5vZGVOZXh0UmVxLCBzaWduYWxGcm9tTm9kZVJlc3BvbnNlKHJlcykpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGludm9rZVJvdXRlTW9kdWxlID0gYXN5bmMgKHNwYW4pPT57XG4gICAgICAgICAgICByZXR1cm4gcm91dGVNb2R1bGUuaGFuZGxlKG5leHRSZXEsIGNvbnRleHQpLmZpbmFsbHkoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAoIXNwYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAnaHR0cC5zdGF0dXNfY29kZSc6IHJlcy5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICAnbmV4dC5yc2MnOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RTcGFuQXR0cmlidXRlcyA9IHRyYWNlci5nZXRSb290U3BhbkF0dHJpYnV0ZXMoKTtcbiAgICAgICAgICAgICAgICAvLyBXZSB3ZXJlIHVuYWJsZSB0byBnZXQgYXR0cmlidXRlcywgcHJvYmFibHkgT1RFTCBpcyBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmICghcm9vdFNwYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJykgIT09IEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmV4cGVjdGVkIHJvb3Qgc3BhbiB0eXBlICcke3Jvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJyl9Jy4gUGxlYXNlIHJlcG9ydCB0aGlzIE5leHQuanMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9uZXh0LmpzYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnJvdXRlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgJHttZXRob2R9ICR7cm91dGV9YDtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQuc3Bhbl9uYW1lJzogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShgJHttZXRob2R9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlUmVzcG9uc2UgPSBhc3luYyAoY3VycmVudFNwYW4pPT57XG4gICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWU7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZUdlbmVyYXRvciA9IGFzeW5jICh7IHByZXZpb3VzQ2FjaGVFbnRyeSB9KT0+e1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc09uRGVtYW5kUmV2YWxpZGF0ZSAmJiByZXZhbGlkYXRlT25seUdlbmVyYXRlZCAmJiAhcHJldmlvdXNDYWNoZUVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uLWRlbWFuZCByZXZhbGlkYXRlIGFsd2F5cyBzZXRzIHRoaXMgaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsICdSRVZBTElEQVRFRCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmVuZCgnVGhpcyBwYWdlIGNvdWxkIG5vdCBiZSBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBpbnZva2VSb3V0ZU1vZHVsZShjdXJyZW50U3Bhbik7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5mZXRjaE1ldHJpY3MgPSBjb250ZXh0LnJlbmRlck9wdHMuZmV0Y2hNZXRyaWNzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGVuZGluZ1dhaXRVbnRpbCA9IGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsO1xuICAgICAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHVzaW5nIHByb3ZpZGVkIHdhaXRVbnRpbCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQncyBub3Qgd2UgZmFsbGJhY2sgdG8gc2VuZFJlc3BvbnNlJ3MgaGFuZGxpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdXYWl0VW50aWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdHgud2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LndhaXRVbnRpbChwZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nV2FpdFVudGlsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlVGFncyA9IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRUYWdzO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWMgcmVzcG9uc2UsIHdlIGNhbiBjYWNoZSBpdCBzbyBsb25nXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIGl0J3Mgbm90IGVkZ2UuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lzcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvcHkgdGhlIGhlYWRlcnMgZnJvbSB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhyZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZVRhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzW05FWFRfQ0FDSEVfVEFHU19IRUFERVJdID0gY2FjaGVUYWdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWFkZXJzWydjb250ZW50LXR5cGUnXSAmJiBibG9iLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzWydjb250ZW50LXR5cGUnXSA9IGJsb2IudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldmFsaWRhdGUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGUgPT09ICd1bmRlZmluZWQnIHx8IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID49IElORklOSVRFX0NBQ0hFID8gZmFsc2UgOiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cGlyZSA9IHR5cGVvZiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlID49IElORklOSVRFX0NBQ0hFID8gdW5kZWZpbmVkIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgY2FjaGUgZW50cnkgZm9yIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEJ1ZmZlci5mcm9tKGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlRW50cnk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZW5kIHJlc3BvbnNlIHdpdGhvdXQgY2FjaGluZyBpZiBub3QgSVNSXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCByZXNwb25zZSwgY29udGV4dC5yZW5kZXJPcHRzLnBlbmRpbmdXYWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGJhY2tncm91bmQgcmV2YWxpZGF0ZSB3ZSBuZWVkIHRvIHJlcG9ydFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcmVxdWVzdCBlcnJvciBoZXJlIGFzIGl0IHdvbid0IGJlIGJ1YmJsZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzQ2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogcHJldmlvdXNDYWNoZUVudHJ5LmlzU3RhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogc3JjUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcm91dGVyU2VydmVyQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0gYXdhaXQgcm91dGVNb2R1bGUuaGFuZGxlUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICBuZXh0Q29uZmlnLFxuICAgICAgICAgICAgICAgIGNhY2hlS2V5LFxuICAgICAgICAgICAgICAgIHJvdXRlS2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgICAgICAgICBpc0ZhbGxiYWNrOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICBpc1JvdXRlUFBSRW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VHZW5lcmF0b3IsXG4gICAgICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGNyZWF0ZSBhIGNhY2hlRW50cnkgZm9yIElTUlxuICAgICAgICAgICAgaWYgKCFpc0lzcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChjYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiAoX2NhY2hlRW50cnlfdmFsdWUgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUua2luZCkgIT09IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWUxO1xuICAgICAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoYEludmFyaWFudDogYXBwLXJvdXRlIHJlY2VpdmVkIGludmFsaWQgY2FjaGUgZW50cnkgJHtjYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiAoX2NhY2hlRW50cnlfdmFsdWUxID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlMS5raW5kfWApLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTcwMVwiLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsIGlzT25EZW1hbmRSZXZhbGlkYXRlID8gJ1JFVkFMSURBVEVEJyA6IGNhY2hlRW50cnkuaXNNaXNzID8gJ01JU1MnIDogY2FjaGVFbnRyeS5pc1N0YWxlID8gJ1NUQUxFJyA6ICdISVQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERyYWZ0IG1vZGUgc2hvdWxkIG5ldmVyIGJlIGNhY2hlZFxuICAgICAgICAgICAgaWYgKGlzRHJhZnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICdwcml2YXRlLCBuby1jYWNoZSwgbm8tc3RvcmUsIG1heC1hZ2U9MCwgbXVzdC1yZXZhbGlkYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKGNhY2hlRW50cnkudmFsdWUuaGVhZGVycyk7XG4gICAgICAgICAgICBpZiAoIShnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpICYmIGlzSXNyKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuZGVsZXRlKE5FWFRfQ0FDSEVfVEFHU19IRUFERVIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgY2FjaGUgY29udHJvbCBpcyBhbHJlYWR5IHNldCBvbiB0aGUgcmVzcG9uc2Ugd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIG92ZXJyaWRlIGl0IHRvIGFsbG93IHVzZXJzIHRvIGN1c3RvbWl6ZSBpdCB2aWEgbmV4dC5jb25maWdcbiAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCAmJiAhcmVzLmdldEhlYWRlcignQ2FjaGUtQ29udHJvbCcpICYmICFoZWFkZXJzLmdldCgnQ2FjaGUtQ29udHJvbCcpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0NhY2hlLUNvbnRyb2wnLCBnZXRDYWNoZUNvbnRyb2xIZWFkZXIoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIG5ldyBSZXNwb25zZShjYWNoZUVudHJ5LnZhbHVlLmJvZHksIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIHN0YXR1czogY2FjaGVFbnRyeS52YWx1ZS5zdGF0dXMgfHwgMjAwXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVE9ETzogYWN0aXZlU3BhbiBjb2RlIHBhdGggaXMgZm9yIHdoZW4gd3JhcHBlZCBieVxuICAgICAgICAvLyBuZXh0LXNlcnZlciBjYW4gYmUgcmVtb3ZlZCB3aGVuIHRoaXMgaXMgbm8gbG9uZ2VyIHVzZWRcbiAgICAgICAgaWYgKGFjdGl2ZVNwYW4pIHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZVJlc3BvbnNlKGFjdGl2ZVNwYW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdHJhY2VyLndpdGhQcm9wYWdhdGVkQ29udGV4dChyZXEuaGVhZGVycywgKCk9PnRyYWNlci50cmFjZShCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0LCB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW5OYW1lOiBgJHttZXRob2R9ICR7cmVxLnVybH1gLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiBTcGFuS2luZC5TRVJWRVIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLm1ldGhvZCc6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnRhcmdldCc6IHJlcS51cmxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGhhbmRsZVJlc3BvbnNlKSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlbid0IHdyYXBwZWQgYnkgYmFzZS1zZXJ2ZXIgaGFuZGxlIGhlcmVcbiAgICAgICAgaWYgKCFhY3RpdmVTcGFuICYmICEoZXJyIGluc3RhbmNlb2YgTm9GYWxsYmFja0Vycm9yKSkge1xuICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgcm91dGVQYXRoOiBub3JtYWxpemVkU3JjUGFnZSxcbiAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0aHJvdyBzbyB0aGF0IHdlIGNhbiBoYW5kbGUgc2VydmluZyBlcnJvciBwYWdlXG4gICAgICAgIC8vIElmIHRoaXMgaXMgZHVyaW5nIHN0YXRpYyBnZW5lcmF0aW9uLCB0aHJvdyB0aGUgZXJyb3IgYWdhaW4uXG4gICAgICAgIGlmIChpc0lzcikgdGhyb3cgZXJyO1xuICAgICAgICAvLyBPdGhlcndpc2UsIHNlbmQgYSA1MDAgcmVzcG9uc2UuXG4gICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDUwMFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fappraise%2Froute&page=%2Fapi%2Fappraise%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fappraise%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/appraise/route.ts":
/*!***************************************!*\
  !*** ./src/app/api/appraise/route.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_valuation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/valuation */ \"(rsc)/./src/lib/valuation.ts\");\n/* harmony import */ var _lib_rate_limiter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/rate-limiter */ \"(rsc)/./src/lib/rate-limiter.ts\");\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/database */ \"(rsc)/./src/lib/database.ts\");\n/* harmony import */ var _app_startup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../app/startup */ \"(rsc)/./src/app/startup.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_database__WEBPACK_IMPORTED_MODULE_3__, _app_startup__WEBPACK_IMPORTED_MODULE_4__]);\n([_lib_database__WEBPACK_IMPORTED_MODULE_3__, _app_startup__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n // Ensure database is initialized\nasync function POST(request) {\n    try {\n        // Rate limiting\n        const ip = request.headers.get('x-forwarded-for') || request.headers.get('x-real-ip') || 'unknown';\n        const rateLimit = (0,_lib_rate_limiter__WEBPACK_IMPORTED_MODULE_2__.checkRateLimit)(ip);\n        if (!rateLimit.allowed) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Rate limit exceeded. You have reached the maximum of 5 evaluations per hour.',\n                retryAfter: Math.ceil((rateLimit.resetTime - Date.now()) / 1000)\n            }, {\n                status: 429\n            });\n        }\n        const { domain, options = {} } = await request.json();\n        if (!domain || typeof domain !== 'string') {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Valid domain name is required'\n            }, {\n                status: 400\n            });\n        }\n        // Clean and validate domain format\n        const cleanDomain = domain.toLowerCase().trim();\n        if (!/^[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]*\\.[a-zA-Z]{2,}$/.test(cleanDomain)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Invalid domain format'\n            }, {\n                status: 400\n            });\n        }\n        const appraisal = await (0,_lib_valuation__WEBPACK_IMPORTED_MODULE_1__.evaluateDomain)(cleanDomain, options);\n        // Persist appraisal to database\n        try {\n            const client = await _lib_database__WEBPACK_IMPORTED_MODULE_3__.pool.connect();\n            try {\n                await client.query(`\n          INSERT INTO appraisals (domain, final_score, breakdown, price_estimate, comps, legal_flag, ai_comment)\n          VALUES ($1, $2, $3, $4, $5, $6, $7)\n        `, [\n                    appraisal.domain,\n                    appraisal.finalScore,\n                    JSON.stringify(appraisal.breakdown),\n                    JSON.stringify(appraisal.priceEstimate),\n                    JSON.stringify(appraisal.comps),\n                    appraisal.legalFlag,\n                    appraisal.aiComment\n                ]);\n            } finally{\n                client.release();\n            }\n        } catch (dbError) {\n            console.error('Failed to persist appraisal:', dbError);\n        // Continue anyway - don't fail the request if DB save fails\n        }\n        const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(appraisal);\n        response.headers.set('X-RateLimit-Remaining', rateLimit.remaining.toString());\n        response.headers.set('X-RateLimit-Reset', rateLimit.resetTime.toString());\n        return response;\n    } catch (error) {\n        console.error('Domain evaluation error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Failed to evaluate domain'\n        }, {\n            status: 500\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hcHByYWlzZS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDQTtBQUNHO0FBQ2Q7QUFDZixDQUFDLGlDQUFpQztBQUV4RCxlQUFlSSxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsZ0JBQWdCO1FBQ2hCLE1BQU1DLEtBQUtELFFBQVFFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQkgsUUFBUUUsT0FBTyxDQUFDQyxHQUFHLENBQUMsZ0JBQWdCO1FBQ3pGLE1BQU1DLFlBQVlQLGlFQUFjQSxDQUFDSTtRQUVqQyxJQUFJLENBQUNHLFVBQVVDLE9BQU8sRUFBRTtZQUN0QixPQUFPVixxREFBWUEsQ0FBQ1csSUFBSSxDQUN0QjtnQkFDRUMsT0FBTztnQkFDUEMsWUFBWUMsS0FBS0MsSUFBSSxDQUFDLENBQUNOLFVBQVVPLFNBQVMsR0FBR0MsS0FBS0MsR0FBRyxFQUFDLElBQUs7WUFDN0QsR0FDQTtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxNQUFNaEIsUUFBUU0sSUFBSTtRQUVuRCxJQUFJLENBQUNTLFVBQVUsT0FBT0EsV0FBVyxVQUFVO1lBQ3pDLE9BQU9wQixxREFBWUEsQ0FBQ1csSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUFnQyxHQUN6QztnQkFBRU8sUUFBUTtZQUFJO1FBRWxCO1FBRUEsbUNBQW1DO1FBQ25DLE1BQU1HLGNBQWNGLE9BQU9HLFdBQVcsR0FBR0MsSUFBSTtRQUM3QyxJQUFJLENBQUMsdURBQXVEQyxJQUFJLENBQUNILGNBQWM7WUFDN0UsT0FBT3RCLHFEQUFZQSxDQUFDVyxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQXdCLEdBQ2pDO2dCQUFFTyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNTyxZQUFZLE1BQU16Qiw4REFBY0EsQ0FBQ3FCLGFBQWFEO1FBRXBELGdDQUFnQztRQUNoQyxJQUFJO1lBQ0YsTUFBTU0sU0FBUyxNQUFNeEIsK0NBQUlBLENBQUN5QixPQUFPO1lBQ2pDLElBQUk7Z0JBQ0YsTUFBTUQsT0FBT0UsS0FBSyxDQUFDLENBQUM7OztRQUdwQixDQUFDLEVBQUU7b0JBQ0RILFVBQVVOLE1BQU07b0JBQ2hCTSxVQUFVSSxVQUFVO29CQUNwQkMsS0FBS0MsU0FBUyxDQUFDTixVQUFVTyxTQUFTO29CQUNsQ0YsS0FBS0MsU0FBUyxDQUFDTixVQUFVUSxhQUFhO29CQUN0Q0gsS0FBS0MsU0FBUyxDQUFDTixVQUFVUyxLQUFLO29CQUM5QlQsVUFBVVUsU0FBUztvQkFDbkJWLFVBQVVXLFNBQVM7aUJBQ3BCO1lBQ0gsU0FBVTtnQkFDUlYsT0FBT1csT0FBTztZQUNoQjtRQUNGLEVBQUUsT0FBT0MsU0FBUztZQUNoQkMsUUFBUTVCLEtBQUssQ0FBQyxnQ0FBZ0MyQjtRQUM5Qyw0REFBNEQ7UUFDOUQ7UUFFQSxNQUFNRSxXQUFXekMscURBQVlBLENBQUNXLElBQUksQ0FBQ2U7UUFDbkNlLFNBQVNsQyxPQUFPLENBQUNtQyxHQUFHLENBQUMseUJBQXlCakMsVUFBVWtDLFNBQVMsQ0FBQ0MsUUFBUTtRQUMxRUgsU0FBU2xDLE9BQU8sQ0FBQ21DLEdBQUcsQ0FBQyxxQkFBcUJqQyxVQUFVTyxTQUFTLENBQUM0QixRQUFRO1FBRXRFLE9BQU9IO0lBQ1QsRUFBRSxPQUFPN0IsT0FBTztRQUNkNEIsUUFBUTVCLEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDLE9BQU9aLHFEQUFZQSxDQUFDVyxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBNEIsR0FDckM7WUFBRU8sUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvc3JjL2FwcC9hcGkvYXBwcmFpc2Uvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgZXZhbHVhdGVEb21haW4gfSBmcm9tICcuLi8uLi8uLi9saWIvdmFsdWF0aW9uJ1xuaW1wb3J0IHsgY2hlY2tSYXRlTGltaXQgfSBmcm9tICcuLi8uLi8uLi9saWIvcmF0ZS1saW1pdGVyJ1xuaW1wb3J0IHsgcG9vbCB9IGZyb20gJy4uLy4uLy4uL2xpYi9kYXRhYmFzZSdcbmltcG9ydCAnLi4vLi4vLi4vYXBwL3N0YXJ0dXAnIC8vIEVuc3VyZSBkYXRhYmFzZSBpcyBpbml0aWFsaXplZFxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIC8vIFJhdGUgbGltaXRpbmdcbiAgICBjb25zdCBpcCA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtZm9yd2FyZGVkLWZvcicpIHx8IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtcmVhbC1pcCcpIHx8ICd1bmtub3duJ1xuICAgIGNvbnN0IHJhdGVMaW1pdCA9IGNoZWNrUmF0ZUxpbWl0KGlwKVxuICAgIFxuICAgIGlmICghcmF0ZUxpbWl0LmFsbG93ZWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBcbiAgICAgICAgICBlcnJvcjogJ1JhdGUgbGltaXQgZXhjZWVkZWQuIFlvdSBoYXZlIHJlYWNoZWQgdGhlIG1heGltdW0gb2YgNSBldmFsdWF0aW9ucyBwZXIgaG91ci4nLFxuICAgICAgICAgIHJldHJ5QWZ0ZXI6IE1hdGguY2VpbCgocmF0ZUxpbWl0LnJlc2V0VGltZSAtIERhdGUubm93KCkpIC8gMTAwMClcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQyOSB9XG4gICAgICApXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHsgZG9tYWluLCBvcHRpb25zID0ge30gfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgXG4gICAgaWYgKCFkb21haW4gfHwgdHlwZW9mIGRvbWFpbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1ZhbGlkIGRvbWFpbiBuYW1lIGlzIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG4gICAgXG4gICAgLy8gQ2xlYW4gYW5kIHZhbGlkYXRlIGRvbWFpbiBmb3JtYXRcbiAgICBjb25zdCBjbGVhbkRvbWFpbiA9IGRvbWFpbi50b0xvd2VyQ2FzZSgpLnRyaW0oKVxuICAgIGlmICghL15bYS16QS1aMC05XVthLXpBLVowLTktXSpbYS16QS1aMC05XSpcXC5bYS16QS1aXXsyLH0kLy50ZXN0KGNsZWFuRG9tYWluKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnSW52YWxpZCBkb21haW4gZm9ybWF0JyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG4gICAgXG4gICAgY29uc3QgYXBwcmFpc2FsID0gYXdhaXQgZXZhbHVhdGVEb21haW4oY2xlYW5Eb21haW4sIG9wdGlvbnMpXG4gICAgXG4gICAgLy8gUGVyc2lzdCBhcHByYWlzYWwgdG8gZGF0YWJhc2VcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KClcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGNsaWVudC5xdWVyeShgXG4gICAgICAgICAgSU5TRVJUIElOVE8gYXBwcmFpc2FscyAoZG9tYWluLCBmaW5hbF9zY29yZSwgYnJlYWtkb3duLCBwcmljZV9lc3RpbWF0ZSwgY29tcHMsIGxlZ2FsX2ZsYWcsIGFpX2NvbW1lbnQpXG4gICAgICAgICAgVkFMVUVTICgkMSwgJDIsICQzLCAkNCwgJDUsICQ2LCAkNylcbiAgICAgICAgYCwgW1xuICAgICAgICAgIGFwcHJhaXNhbC5kb21haW4sXG4gICAgICAgICAgYXBwcmFpc2FsLmZpbmFsU2NvcmUsXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoYXBwcmFpc2FsLmJyZWFrZG93biksXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoYXBwcmFpc2FsLnByaWNlRXN0aW1hdGUpLFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGFwcHJhaXNhbC5jb21wcyksXG4gICAgICAgICAgYXBwcmFpc2FsLmxlZ2FsRmxhZyxcbiAgICAgICAgICBhcHByYWlzYWwuYWlDb21tZW50XG4gICAgICAgIF0pXG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBjbGllbnQucmVsZWFzZSgpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZGJFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHBlcnNpc3QgYXBwcmFpc2FsOicsIGRiRXJyb3IpXG4gICAgICAvLyBDb250aW51ZSBhbnl3YXkgLSBkb24ndCBmYWlsIHRoZSByZXF1ZXN0IGlmIERCIHNhdmUgZmFpbHNcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihhcHByYWlzYWwpXG4gICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ1gtUmF0ZUxpbWl0LVJlbWFpbmluZycsIHJhdGVMaW1pdC5yZW1haW5pbmcudG9TdHJpbmcoKSlcbiAgICByZXNwb25zZS5oZWFkZXJzLnNldCgnWC1SYXRlTGltaXQtUmVzZXQnLCByYXRlTGltaXQucmVzZXRUaW1lLnRvU3RyaW5nKCkpXG4gICAgXG4gICAgcmV0dXJuIHJlc3BvbnNlXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRG9tYWluIGV2YWx1YXRpb24gZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBldmFsdWF0ZSBkb21haW4nIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZXZhbHVhdGVEb21haW4iLCJjaGVja1JhdGVMaW1pdCIsInBvb2wiLCJQT1NUIiwicmVxdWVzdCIsImlwIiwiaGVhZGVycyIsImdldCIsInJhdGVMaW1pdCIsImFsbG93ZWQiLCJqc29uIiwiZXJyb3IiLCJyZXRyeUFmdGVyIiwiTWF0aCIsImNlaWwiLCJyZXNldFRpbWUiLCJEYXRlIiwibm93Iiwic3RhdHVzIiwiZG9tYWluIiwib3B0aW9ucyIsImNsZWFuRG9tYWluIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwidGVzdCIsImFwcHJhaXNhbCIsImNsaWVudCIsImNvbm5lY3QiLCJxdWVyeSIsImZpbmFsU2NvcmUiLCJKU09OIiwic3RyaW5naWZ5IiwiYnJlYWtkb3duIiwicHJpY2VFc3RpbWF0ZSIsImNvbXBzIiwibGVnYWxGbGFnIiwiYWlDb21tZW50IiwicmVsZWFzZSIsImRiRXJyb3IiLCJjb25zb2xlIiwicmVzcG9uc2UiLCJzZXQiLCJyZW1haW5pbmciLCJ0b1N0cmluZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/appraise/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/startup.ts":
/*!****************************!*\
  !*** ./src/app/startup.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ensureDbInitialized: () => (/* binding */ ensureDbInitialized)\n/* harmony export */ });\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/database */ \"(rsc)/./src/lib/database.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_database__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_database__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// Initialize database on app startup\n\nasync function ensureDbInitialized() {\n    try {\n        await (0,_lib_database__WEBPACK_IMPORTED_MODULE_0__.initDatabase)();\n    } catch (error) {\n        console.error('Failed to initialize database:', error);\n    }\n}\n// Auto-initialize when this module is imported\nensureDbInitialized();\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL3N0YXJ0dXAudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxxQ0FBcUM7QUFDUztBQUV2QyxlQUFlQztJQUNwQixJQUFJO1FBQ0YsTUFBTUQsMkRBQVlBO0lBQ3BCLEVBQUUsT0FBT0UsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsa0NBQWtDQTtJQUNsRDtBQUNGO0FBRUEsK0NBQStDO0FBQy9DRCIsInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9zcmMvYXBwL3N0YXJ0dXAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW5pdGlhbGl6ZSBkYXRhYmFzZSBvbiBhcHAgc3RhcnR1cFxuaW1wb3J0IHsgaW5pdERhdGFiYXNlIH0gZnJvbSAnLi4vbGliL2RhdGFiYXNlJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5zdXJlRGJJbml0aWFsaXplZCgpIHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBpbml0RGF0YWJhc2UoKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIGRhdGFiYXNlOicsIGVycm9yKVxuICB9XG59XG5cbi8vIEF1dG8taW5pdGlhbGl6ZSB3aGVuIHRoaXMgbW9kdWxlIGlzIGltcG9ydGVkXG5lbnN1cmVEYkluaXRpYWxpemVkKCkiXSwibmFtZXMiOlsiaW5pdERhdGFiYXNlIiwiZW5zdXJlRGJJbml0aWFsaXplZCIsImVycm9yIiwiY29uc29sZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/startup.ts\n");

/***/ }),

/***/ "(rsc)/./src/data/industry-keywords.ts":
/*!***************************************!*\
  !*** ./src/data/industry-keywords.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findKeywordValue: () => (/* binding */ findKeywordValue),\n/* harmony export */   industryKeywords: () => (/* binding */ industryKeywords)\n/* harmony export */ });\nconst industryKeywords = [\n    // Finance & Crypto\n    {\n        keyword: 'crypto',\n        industry: 'finance',\n        value: 95\n    },\n    {\n        keyword: 'bitcoin',\n        industry: 'finance',\n        value: 90\n    },\n    {\n        keyword: 'finance',\n        industry: 'finance',\n        value: 85\n    },\n    {\n        keyword: 'bank',\n        industry: 'finance',\n        value: 90\n    },\n    {\n        keyword: 'pay',\n        industry: 'finance',\n        value: 80\n    },\n    {\n        keyword: 'wallet',\n        industry: 'finance',\n        value: 85\n    },\n    {\n        keyword: 'loan',\n        industry: 'finance',\n        value: 75\n    },\n    {\n        keyword: 'invest',\n        industry: 'finance',\n        value: 80\n    },\n    {\n        keyword: 'trade',\n        industry: 'finance',\n        value: 75\n    },\n    {\n        keyword: 'exchange',\n        industry: 'finance',\n        value: 85\n    },\n    // AI & Technology\n    {\n        keyword: 'ai',\n        industry: 'technology',\n        value: 95\n    },\n    {\n        keyword: 'tech',\n        industry: 'technology',\n        value: 80\n    },\n    {\n        keyword: 'app',\n        industry: 'technology',\n        value: 75\n    },\n    {\n        keyword: 'software',\n        industry: 'technology',\n        value: 70\n    },\n    {\n        keyword: 'cloud',\n        industry: 'technology',\n        value: 85\n    },\n    {\n        keyword: 'data',\n        industry: 'technology',\n        value: 75\n    },\n    {\n        keyword: 'digital',\n        industry: 'technology',\n        value: 70\n    },\n    {\n        keyword: 'smart',\n        industry: 'technology',\n        value: 75\n    },\n    {\n        keyword: 'auto',\n        industry: 'technology',\n        value: 70\n    },\n    {\n        keyword: 'bot',\n        industry: 'technology',\n        value: 65\n    },\n    // Health & Medical\n    {\n        keyword: 'health',\n        industry: 'health',\n        value: 85\n    },\n    {\n        keyword: 'medical',\n        industry: 'health',\n        value: 80\n    },\n    {\n        keyword: 'care',\n        industry: 'health',\n        value: 75\n    },\n    {\n        keyword: 'wellness',\n        industry: 'health',\n        value: 70\n    },\n    {\n        keyword: 'fitness',\n        industry: 'health',\n        value: 75\n    },\n    {\n        keyword: 'doctor',\n        industry: 'health',\n        value: 80\n    },\n    {\n        keyword: 'therapy',\n        industry: 'health',\n        value: 70\n    },\n    {\n        keyword: 'clinic',\n        industry: 'health',\n        value: 75\n    },\n    // E-commerce & Retail\n    {\n        keyword: 'shop',\n        industry: 'ecommerce',\n        value: 80\n    },\n    {\n        keyword: 'store',\n        industry: 'ecommerce',\n        value: 75\n    },\n    {\n        keyword: 'market',\n        industry: 'ecommerce',\n        value: 80\n    },\n    {\n        keyword: 'buy',\n        industry: 'ecommerce',\n        value: 70\n    },\n    {\n        keyword: 'sell',\n        industry: 'ecommerce',\n        value: 70\n    },\n    {\n        keyword: 'deal',\n        industry: 'ecommerce',\n        value: 65\n    },\n    {\n        keyword: 'sale',\n        industry: 'ecommerce',\n        value: 65\n    },\n    {\n        keyword: 'cart',\n        industry: 'ecommerce',\n        value: 60\n    },\n    // Travel & Hospitality\n    {\n        keyword: 'travel',\n        industry: 'travel',\n        value: 85\n    },\n    {\n        keyword: 'hotel',\n        industry: 'travel',\n        value: 80\n    },\n    {\n        keyword: 'flight',\n        industry: 'travel',\n        value: 75\n    },\n    {\n        keyword: 'trip',\n        industry: 'travel',\n        value: 70\n    },\n    {\n        keyword: 'vacation',\n        industry: 'travel',\n        value: 70\n    },\n    {\n        keyword: 'booking',\n        industry: 'travel',\n        value: 75\n    },\n    {\n        keyword: 'resort',\n        industry: 'travel',\n        value: 70\n    },\n    // Education & Learning\n    {\n        keyword: 'learn',\n        industry: 'education',\n        value: 70\n    },\n    {\n        keyword: 'education',\n        industry: 'education',\n        value: 75\n    },\n    {\n        keyword: 'course',\n        industry: 'education',\n        value: 65\n    },\n    {\n        keyword: 'study',\n        industry: 'education',\n        value: 60\n    },\n    {\n        keyword: 'school',\n        industry: 'education',\n        value: 70\n    },\n    {\n        keyword: 'training',\n        industry: 'education',\n        value: 65\n    },\n    // Food & Dining\n    {\n        keyword: 'food',\n        industry: 'food',\n        value: 70\n    },\n    {\n        keyword: 'restaurant',\n        industry: 'food',\n        value: 65\n    },\n    {\n        keyword: 'delivery',\n        industry: 'food',\n        value: 70\n    },\n    {\n        keyword: 'recipe',\n        industry: 'food',\n        value: 60\n    },\n    {\n        keyword: 'kitchen',\n        industry: 'food',\n        value: 55\n    },\n    // Real Estate\n    {\n        keyword: 'real',\n        industry: 'realestate',\n        value: 75\n    },\n    {\n        keyword: 'estate',\n        industry: 'realestate',\n        value: 75\n    },\n    {\n        keyword: 'property',\n        industry: 'realestate',\n        value: 70\n    },\n    {\n        keyword: 'home',\n        industry: 'realestate',\n        value: 70\n    },\n    {\n        keyword: 'house',\n        industry: 'realestate',\n        value: 65\n    },\n    {\n        keyword: 'rent',\n        industry: 'realestate',\n        value: 70\n    },\n    // Gaming & Entertainment\n    {\n        keyword: 'game',\n        industry: 'gaming',\n        value: 70\n    },\n    {\n        keyword: 'gaming',\n        industry: 'gaming',\n        value: 75\n    },\n    {\n        keyword: 'play',\n        industry: 'gaming',\n        value: 60\n    },\n    {\n        keyword: 'entertainment',\n        industry: 'gaming',\n        value: 65\n    },\n    {\n        keyword: 'fun',\n        industry: 'gaming',\n        value: 55\n    },\n    // Business & Professional\n    {\n        keyword: 'business',\n        industry: 'business',\n        value: 75\n    },\n    {\n        keyword: 'pro',\n        industry: 'business',\n        value: 65\n    },\n    {\n        keyword: 'work',\n        industry: 'business',\n        value: 60\n    },\n    {\n        keyword: 'career',\n        industry: 'business',\n        value: 65\n    },\n    {\n        keyword: 'job',\n        industry: 'business',\n        value: 60\n    },\n    {\n        keyword: 'hire',\n        industry: 'business',\n        value: 65\n    },\n    // Generic high-value terms\n    {\n        keyword: 'best',\n        industry: 'generic',\n        value: 60\n    },\n    {\n        keyword: 'top',\n        industry: 'generic',\n        value: 60\n    },\n    {\n        keyword: 'premium',\n        industry: 'generic',\n        value: 65\n    },\n    {\n        keyword: 'elite',\n        industry: 'generic',\n        value: 65\n    },\n    {\n        keyword: 'expert',\n        industry: 'generic',\n        value: 60\n    },\n    {\n        keyword: 'master',\n        industry: 'generic',\n        value: 60\n    },\n    {\n        keyword: 'quick',\n        industry: 'generic',\n        value: 55\n    },\n    {\n        keyword: 'fast',\n        industry: 'generic',\n        value: 55\n    },\n    {\n        keyword: 'easy',\n        industry: 'generic',\n        value: 55\n    },\n    {\n        keyword: 'simple',\n        industry: 'generic',\n        value: 55\n    }\n];\nfunction findKeywordValue(domain) {\n    const domainLower = domain.toLowerCase().replace(/\\.(com|net|org|io|ai|co|app|xyz|info|biz)$/, '');\n    let bestScore = 20 // Default score for no meaningful keywords\n    ;\n    let bestIndustry = 'generic';\n    let matchedKeywords = [];\n    for (const item of industryKeywords){\n        if (domainLower.includes(item.keyword)) {\n            matchedKeywords.push(item.keyword);\n            if (item.value > bestScore) {\n                bestScore = item.value;\n                bestIndustry = item.industry;\n            }\n        }\n    }\n    // Bonus for exact match of high-value single keyword\n    const exactMatch = industryKeywords.find((item)=>domainLower === item.keyword || domainLower === item.keyword + 's');\n    if (exactMatch && exactMatch.value >= 80) {\n        bestScore = Math.min(100, bestScore + 10);\n    }\n    // Penalty for too many keywords (seems spammy)\n    if (matchedKeywords.length > 3) {\n        bestScore = Math.max(30, bestScore - 10);\n    }\n    return {\n        score: bestScore,\n        industry: bestIndustry,\n        matchedKeywords\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9zcmMvZGF0YS9pbmR1c3RyeS1rZXl3b3Jkcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgaW50ZXJmYWNlIEluZHVzdHJ5S2V5d29yZCB7XG4gIGtleXdvcmQ6IHN0cmluZ1xuICBpbmR1c3RyeTogc3RyaW5nXG4gIHZhbHVlOiBudW1iZXIgLy8gU2NvcmUgbXVsdGlwbGllciBmb3IgaGlnaC12YWx1ZSBrZXl3b3Jkc1xufVxuXG5leHBvcnQgY29uc3QgaW5kdXN0cnlLZXl3b3JkczogSW5kdXN0cnlLZXl3b3JkW10gPSBbXG4gIC8vIEZpbmFuY2UgJiBDcnlwdG9cbiAgeyBrZXl3b3JkOiAnY3J5cHRvJywgaW5kdXN0cnk6ICdmaW5hbmNlJywgdmFsdWU6IDk1IH0sXG4gIHsga2V5d29yZDogJ2JpdGNvaW4nLCBpbmR1c3RyeTogJ2ZpbmFuY2UnLCB2YWx1ZTogOTAgfSxcbiAgeyBrZXl3b3JkOiAnZmluYW5jZScsIGluZHVzdHJ5OiAnZmluYW5jZScsIHZhbHVlOiA4NSB9LFxuICB7IGtleXdvcmQ6ICdiYW5rJywgaW5kdXN0cnk6ICdmaW5hbmNlJywgdmFsdWU6IDkwIH0sXG4gIHsga2V5d29yZDogJ3BheScsIGluZHVzdHJ5OiAnZmluYW5jZScsIHZhbHVlOiA4MCB9LFxuICB7IGtleXdvcmQ6ICd3YWxsZXQnLCBpbmR1c3RyeTogJ2ZpbmFuY2UnLCB2YWx1ZTogODUgfSxcbiAgeyBrZXl3b3JkOiAnbG9hbicsIGluZHVzdHJ5OiAnZmluYW5jZScsIHZhbHVlOiA3NSB9LFxuICB7IGtleXdvcmQ6ICdpbnZlc3QnLCBpbmR1c3RyeTogJ2ZpbmFuY2UnLCB2YWx1ZTogODAgfSxcbiAgeyBrZXl3b3JkOiAndHJhZGUnLCBpbmR1c3RyeTogJ2ZpbmFuY2UnLCB2YWx1ZTogNzUgfSxcbiAgeyBrZXl3b3JkOiAnZXhjaGFuZ2UnLCBpbmR1c3RyeTogJ2ZpbmFuY2UnLCB2YWx1ZTogODUgfSxcbiAgXG4gIC8vIEFJICYgVGVjaG5vbG9neVxuICB7IGtleXdvcmQ6ICdhaScsIGluZHVzdHJ5OiAndGVjaG5vbG9neScsIHZhbHVlOiA5NSB9LFxuICB7IGtleXdvcmQ6ICd0ZWNoJywgaW5kdXN0cnk6ICd0ZWNobm9sb2d5JywgdmFsdWU6IDgwIH0sXG4gIHsga2V5d29yZDogJ2FwcCcsIGluZHVzdHJ5OiAndGVjaG5vbG9neScsIHZhbHVlOiA3NSB9LFxuICB7IGtleXdvcmQ6ICdzb2Z0d2FyZScsIGluZHVzdHJ5OiAndGVjaG5vbG9neScsIHZhbHVlOiA3MCB9LFxuICB7IGtleXdvcmQ6ICdjbG91ZCcsIGluZHVzdHJ5OiAndGVjaG5vbG9neScsIHZhbHVlOiA4NSB9LFxuICB7IGtleXdvcmQ6ICdkYXRhJywgaW5kdXN0cnk6ICd0ZWNobm9sb2d5JywgdmFsdWU6IDc1IH0sXG4gIHsga2V5d29yZDogJ2RpZ2l0YWwnLCBpbmR1c3RyeTogJ3RlY2hub2xvZ3knLCB2YWx1ZTogNzAgfSxcbiAgeyBrZXl3b3JkOiAnc21hcnQnLCBpbmR1c3RyeTogJ3RlY2hub2xvZ3knLCB2YWx1ZTogNzUgfSxcbiAgeyBrZXl3b3JkOiAnYXV0bycsIGluZHVzdHJ5OiAndGVjaG5vbG9neScsIHZhbHVlOiA3MCB9LFxuICB7IGtleXdvcmQ6ICdib3QnLCBpbmR1c3RyeTogJ3RlY2hub2xvZ3knLCB2YWx1ZTogNjUgfSxcbiAgXG4gIC8vIEhlYWx0aCAmIE1lZGljYWxcbiAgeyBrZXl3b3JkOiAnaGVhbHRoJywgaW5kdXN0cnk6ICdoZWFsdGgnLCB2YWx1ZTogODUgfSxcbiAgeyBrZXl3b3JkOiAnbWVkaWNhbCcsIGluZHVzdHJ5OiAnaGVhbHRoJywgdmFsdWU6IDgwIH0sXG4gIHsga2V5d29yZDogJ2NhcmUnLCBpbmR1c3RyeTogJ2hlYWx0aCcsIHZhbHVlOiA3NSB9LFxuICB7IGtleXdvcmQ6ICd3ZWxsbmVzcycsIGluZHVzdHJ5OiAnaGVhbHRoJywgdmFsdWU6IDcwIH0sXG4gIHsga2V5d29yZDogJ2ZpdG5lc3MnLCBpbmR1c3RyeTogJ2hlYWx0aCcsIHZhbHVlOiA3NSB9LFxuICB7IGtleXdvcmQ6ICdkb2N0b3InLCBpbmR1c3RyeTogJ2hlYWx0aCcsIHZhbHVlOiA4MCB9LFxuICB7IGtleXdvcmQ6ICd0aGVyYXB5JywgaW5kdXN0cnk6ICdoZWFsdGgnLCB2YWx1ZTogNzAgfSxcbiAgeyBrZXl3b3JkOiAnY2xpbmljJywgaW5kdXN0cnk6ICdoZWFsdGgnLCB2YWx1ZTogNzUgfSxcbiAgXG4gIC8vIEUtY29tbWVyY2UgJiBSZXRhaWxcbiAgeyBrZXl3b3JkOiAnc2hvcCcsIGluZHVzdHJ5OiAnZWNvbW1lcmNlJywgdmFsdWU6IDgwIH0sXG4gIHsga2V5d29yZDogJ3N0b3JlJywgaW5kdXN0cnk6ICdlY29tbWVyY2UnLCB2YWx1ZTogNzUgfSxcbiAgeyBrZXl3b3JkOiAnbWFya2V0JywgaW5kdXN0cnk6ICdlY29tbWVyY2UnLCB2YWx1ZTogODAgfSxcbiAgeyBrZXl3b3JkOiAnYnV5JywgaW5kdXN0cnk6ICdlY29tbWVyY2UnLCB2YWx1ZTogNzAgfSxcbiAgeyBrZXl3b3JkOiAnc2VsbCcsIGluZHVzdHJ5OiAnZWNvbW1lcmNlJywgdmFsdWU6IDcwIH0sXG4gIHsga2V5d29yZDogJ2RlYWwnLCBpbmR1c3RyeTogJ2Vjb21tZXJjZScsIHZhbHVlOiA2NSB9LFxuICB7IGtleXdvcmQ6ICdzYWxlJywgaW5kdXN0cnk6ICdlY29tbWVyY2UnLCB2YWx1ZTogNjUgfSxcbiAgeyBrZXl3b3JkOiAnY2FydCcsIGluZHVzdHJ5OiAnZWNvbW1lcmNlJywgdmFsdWU6IDYwIH0sXG4gIFxuICAvLyBUcmF2ZWwgJiBIb3NwaXRhbGl0eVxuICB7IGtleXdvcmQ6ICd0cmF2ZWwnLCBpbmR1c3RyeTogJ3RyYXZlbCcsIHZhbHVlOiA4NSB9LFxuICB7IGtleXdvcmQ6ICdob3RlbCcsIGluZHVzdHJ5OiAndHJhdmVsJywgdmFsdWU6IDgwIH0sXG4gIHsga2V5d29yZDogJ2ZsaWdodCcsIGluZHVzdHJ5OiAndHJhdmVsJywgdmFsdWU6IDc1IH0sXG4gIHsga2V5d29yZDogJ3RyaXAnLCBpbmR1c3RyeTogJ3RyYXZlbCcsIHZhbHVlOiA3MCB9LFxuICB7IGtleXdvcmQ6ICd2YWNhdGlvbicsIGluZHVzdHJ5OiAndHJhdmVsJywgdmFsdWU6IDcwIH0sXG4gIHsga2V5d29yZDogJ2Jvb2tpbmcnLCBpbmR1c3RyeTogJ3RyYXZlbCcsIHZhbHVlOiA3NSB9LFxuICB7IGtleXdvcmQ6ICdyZXNvcnQnLCBpbmR1c3RyeTogJ3RyYXZlbCcsIHZhbHVlOiA3MCB9LFxuICBcbiAgLy8gRWR1Y2F0aW9uICYgTGVhcm5pbmdcbiAgeyBrZXl3b3JkOiAnbGVhcm4nLCBpbmR1c3RyeTogJ2VkdWNhdGlvbicsIHZhbHVlOiA3MCB9LFxuICB7IGtleXdvcmQ6ICdlZHVjYXRpb24nLCBpbmR1c3RyeTogJ2VkdWNhdGlvbicsIHZhbHVlOiA3NSB9LFxuICB7IGtleXdvcmQ6ICdjb3Vyc2UnLCBpbmR1c3RyeTogJ2VkdWNhdGlvbicsIHZhbHVlOiA2NSB9LFxuICB7IGtleXdvcmQ6ICdzdHVkeScsIGluZHVzdHJ5OiAnZWR1Y2F0aW9uJywgdmFsdWU6IDYwIH0sXG4gIHsga2V5d29yZDogJ3NjaG9vbCcsIGluZHVzdHJ5OiAnZWR1Y2F0aW9uJywgdmFsdWU6IDcwIH0sXG4gIHsga2V5d29yZDogJ3RyYWluaW5nJywgaW5kdXN0cnk6ICdlZHVjYXRpb24nLCB2YWx1ZTogNjUgfSxcbiAgXG4gIC8vIEZvb2QgJiBEaW5pbmdcbiAgeyBrZXl3b3JkOiAnZm9vZCcsIGluZHVzdHJ5OiAnZm9vZCcsIHZhbHVlOiA3MCB9LFxuICB7IGtleXdvcmQ6ICdyZXN0YXVyYW50JywgaW5kdXN0cnk6ICdmb29kJywgdmFsdWU6IDY1IH0sXG4gIHsga2V5d29yZDogJ2RlbGl2ZXJ5JywgaW5kdXN0cnk6ICdmb29kJywgdmFsdWU6IDcwIH0sXG4gIHsga2V5d29yZDogJ3JlY2lwZScsIGluZHVzdHJ5OiAnZm9vZCcsIHZhbHVlOiA2MCB9LFxuICB7IGtleXdvcmQ6ICdraXRjaGVuJywgaW5kdXN0cnk6ICdmb29kJywgdmFsdWU6IDU1IH0sXG4gIFxuICAvLyBSZWFsIEVzdGF0ZVxuICB7IGtleXdvcmQ6ICdyZWFsJywgaW5kdXN0cnk6ICdyZWFsZXN0YXRlJywgdmFsdWU6IDc1IH0sXG4gIHsga2V5d29yZDogJ2VzdGF0ZScsIGluZHVzdHJ5OiAncmVhbGVzdGF0ZScsIHZhbHVlOiA3NSB9LFxuICB7IGtleXdvcmQ6ICdwcm9wZXJ0eScsIGluZHVzdHJ5OiAncmVhbGVzdGF0ZScsIHZhbHVlOiA3MCB9LFxuICB7IGtleXdvcmQ6ICdob21lJywgaW5kdXN0cnk6ICdyZWFsZXN0YXRlJywgdmFsdWU6IDcwIH0sXG4gIHsga2V5d29yZDogJ2hvdXNlJywgaW5kdXN0cnk6ICdyZWFsZXN0YXRlJywgdmFsdWU6IDY1IH0sXG4gIHsga2V5d29yZDogJ3JlbnQnLCBpbmR1c3RyeTogJ3JlYWxlc3RhdGUnLCB2YWx1ZTogNzAgfSxcbiAgXG4gIC8vIEdhbWluZyAmIEVudGVydGFpbm1lbnRcbiAgeyBrZXl3b3JkOiAnZ2FtZScsIGluZHVzdHJ5OiAnZ2FtaW5nJywgdmFsdWU6IDcwIH0sXG4gIHsga2V5d29yZDogJ2dhbWluZycsIGluZHVzdHJ5OiAnZ2FtaW5nJywgdmFsdWU6IDc1IH0sXG4gIHsga2V5d29yZDogJ3BsYXknLCBpbmR1c3RyeTogJ2dhbWluZycsIHZhbHVlOiA2MCB9LFxuICB7IGtleXdvcmQ6ICdlbnRlcnRhaW5tZW50JywgaW5kdXN0cnk6ICdnYW1pbmcnLCB2YWx1ZTogNjUgfSxcbiAgeyBrZXl3b3JkOiAnZnVuJywgaW5kdXN0cnk6ICdnYW1pbmcnLCB2YWx1ZTogNTUgfSxcbiAgXG4gIC8vIEJ1c2luZXNzICYgUHJvZmVzc2lvbmFsXG4gIHsga2V5d29yZDogJ2J1c2luZXNzJywgaW5kdXN0cnk6ICdidXNpbmVzcycsIHZhbHVlOiA3NSB9LFxuICB7IGtleXdvcmQ6ICdwcm8nLCBpbmR1c3RyeTogJ2J1c2luZXNzJywgdmFsdWU6IDY1IH0sXG4gIHsga2V5d29yZDogJ3dvcmsnLCBpbmR1c3RyeTogJ2J1c2luZXNzJywgdmFsdWU6IDYwIH0sXG4gIHsga2V5d29yZDogJ2NhcmVlcicsIGluZHVzdHJ5OiAnYnVzaW5lc3MnLCB2YWx1ZTogNjUgfSxcbiAgeyBrZXl3b3JkOiAnam9iJywgaW5kdXN0cnk6ICdidXNpbmVzcycsIHZhbHVlOiA2MCB9LFxuICB7IGtleXdvcmQ6ICdoaXJlJywgaW5kdXN0cnk6ICdidXNpbmVzcycsIHZhbHVlOiA2NSB9LFxuICBcbiAgLy8gR2VuZXJpYyBoaWdoLXZhbHVlIHRlcm1zXG4gIHsga2V5d29yZDogJ2Jlc3QnLCBpbmR1c3RyeTogJ2dlbmVyaWMnLCB2YWx1ZTogNjAgfSxcbiAgeyBrZXl3b3JkOiAndG9wJywgaW5kdXN0cnk6ICdnZW5lcmljJywgdmFsdWU6IDYwIH0sXG4gIHsga2V5d29yZDogJ3ByZW1pdW0nLCBpbmR1c3RyeTogJ2dlbmVyaWMnLCB2YWx1ZTogNjUgfSxcbiAgeyBrZXl3b3JkOiAnZWxpdGUnLCBpbmR1c3RyeTogJ2dlbmVyaWMnLCB2YWx1ZTogNjUgfSxcbiAgeyBrZXl3b3JkOiAnZXhwZXJ0JywgaW5kdXN0cnk6ICdnZW5lcmljJywgdmFsdWU6IDYwIH0sXG4gIHsga2V5d29yZDogJ21hc3RlcicsIGluZHVzdHJ5OiAnZ2VuZXJpYycsIHZhbHVlOiA2MCB9LFxuICB7IGtleXdvcmQ6ICdxdWljaycsIGluZHVzdHJ5OiAnZ2VuZXJpYycsIHZhbHVlOiA1NSB9LFxuICB7IGtleXdvcmQ6ICdmYXN0JywgaW5kdXN0cnk6ICdnZW5lcmljJywgdmFsdWU6IDU1IH0sXG4gIHsga2V5d29yZDogJ2Vhc3knLCBpbmR1c3RyeTogJ2dlbmVyaWMnLCB2YWx1ZTogNTUgfSxcbiAgeyBrZXl3b3JkOiAnc2ltcGxlJywgaW5kdXN0cnk6ICdnZW5lcmljJywgdmFsdWU6IDU1IH1cbl1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRLZXl3b3JkVmFsdWUoZG9tYWluOiBzdHJpbmcpOiB7IHNjb3JlOiBudW1iZXI7IGluZHVzdHJ5OiBzdHJpbmc7IG1hdGNoZWRLZXl3b3Jkczogc3RyaW5nW10gfSB7XG4gIGNvbnN0IGRvbWFpbkxvd2VyID0gZG9tYWluLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFwuKGNvbXxuZXR8b3JnfGlvfGFpfGNvfGFwcHx4eXp8aW5mb3xiaXopJC8sICcnKVxuICBsZXQgYmVzdFNjb3JlID0gMjAgLy8gRGVmYXVsdCBzY29yZSBmb3Igbm8gbWVhbmluZ2Z1bCBrZXl3b3Jkc1xuICBsZXQgYmVzdEluZHVzdHJ5ID0gJ2dlbmVyaWMnXG4gIGxldCBtYXRjaGVkS2V5d29yZHM6IHN0cmluZ1tdID0gW11cbiAgXG4gIGZvciAoY29uc3QgaXRlbSBvZiBpbmR1c3RyeUtleXdvcmRzKSB7XG4gICAgaWYgKGRvbWFpbkxvd2VyLmluY2x1ZGVzKGl0ZW0ua2V5d29yZCkpIHtcbiAgICAgIG1hdGNoZWRLZXl3b3Jkcy5wdXNoKGl0ZW0ua2V5d29yZClcbiAgICAgIGlmIChpdGVtLnZhbHVlID4gYmVzdFNjb3JlKSB7XG4gICAgICAgIGJlc3RTY29yZSA9IGl0ZW0udmFsdWVcbiAgICAgICAgYmVzdEluZHVzdHJ5ID0gaXRlbS5pbmR1c3RyeVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgLy8gQm9udXMgZm9yIGV4YWN0IG1hdGNoIG9mIGhpZ2gtdmFsdWUgc2luZ2xlIGtleXdvcmRcbiAgY29uc3QgZXhhY3RNYXRjaCA9IGluZHVzdHJ5S2V5d29yZHMuZmluZChpdGVtID0+IFxuICAgIGRvbWFpbkxvd2VyID09PSBpdGVtLmtleXdvcmQgfHwgZG9tYWluTG93ZXIgPT09IGl0ZW0ua2V5d29yZCArICdzJ1xuICApXG4gIGlmIChleGFjdE1hdGNoICYmIGV4YWN0TWF0Y2gudmFsdWUgPj0gODApIHtcbiAgICBiZXN0U2NvcmUgPSBNYXRoLm1pbigxMDAsIGJlc3RTY29yZSArIDEwKVxuICB9XG4gIFxuICAvLyBQZW5hbHR5IGZvciB0b28gbWFueSBrZXl3b3JkcyAoc2VlbXMgc3BhbW15KVxuICBpZiAobWF0Y2hlZEtleXdvcmRzLmxlbmd0aCA+IDMpIHtcbiAgICBiZXN0U2NvcmUgPSBNYXRoLm1heCgzMCwgYmVzdFNjb3JlIC0gMTApXG4gIH1cbiAgXG4gIHJldHVybiB7XG4gICAgc2NvcmU6IGJlc3RTY29yZSxcbiAgICBpbmR1c3RyeTogYmVzdEluZHVzdHJ5LFxuICAgIG1hdGNoZWRLZXl3b3Jkc1xuICB9XG59Il0sIm5hbWVzIjpbImluZHVzdHJ5S2V5d29yZHMiLCJrZXl3b3JkIiwiaW5kdXN0cnkiLCJ2YWx1ZSIsImZpbmRLZXl3b3JkVmFsdWUiLCJkb21haW4iLCJkb21haW5Mb3dlciIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImJlc3RTY29yZSIsImJlc3RJbmR1c3RyeSIsIm1hdGNoZWRLZXl3b3JkcyIsIml0ZW0iLCJpbmNsdWRlcyIsInB1c2giLCJleGFjdE1hdGNoIiwiZmluZCIsIk1hdGgiLCJtaW4iLCJsZW5ndGgiLCJtYXgiLCJzY29yZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/data/industry-keywords.ts\n");

/***/ }),

/***/ "(rsc)/./src/data/sample-comps.ts":
/*!**********************************!*\
  !*** ./src/data/sample-comps.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findComparables: () => (/* binding */ findComparables),\n/* harmony export */   sampleComps: () => (/* binding */ sampleComps)\n/* harmony export */ });\n// Sample comparable sales data for domain valuation\nconst sampleComps = [\n    // Finance/Crypto domains\n    {\n        domain: 'cryptowallet.com',\n        soldPrice: 250000,\n        soldDate: '2023-08-15',\n        source: 'NameBio'\n    },\n    {\n        domain: 'bitcoinexchange.com',\n        soldPrice: 175000,\n        soldDate: '2023-06-22',\n        source: 'Sedo'\n    },\n    {\n        domain: 'financepro.com',\n        soldPrice: 85000,\n        soldDate: '2023-09-10',\n        source: 'GoDaddy'\n    },\n    {\n        domain: 'payfast.com',\n        soldPrice: 95000,\n        soldDate: '2023-07-18',\n        source: 'NameBio'\n    },\n    // Tech/AI domains\n    {\n        domain: 'aitools.com',\n        soldPrice: 125000,\n        soldDate: '2023-05-20',\n        source: 'Flippa'\n    },\n    {\n        domain: 'smartapp.com',\n        soldPrice: 65000,\n        soldDate: '2023-08-03',\n        source: 'Sedo'\n    },\n    {\n        domain: 'cloudtech.com',\n        soldPrice: 78000,\n        soldDate: '2023-06-15',\n        source: 'GoDaddy'\n    },\n    {\n        domain: 'databot.com',\n        soldPrice: 45000,\n        soldDate: '2023-09-25',\n        source: 'NameBio'\n    },\n    // E-commerce domains\n    {\n        domain: 'shopfast.com',\n        soldPrice: 55000,\n        soldDate: '2023-07-08',\n        source: 'Flippa'\n    },\n    {\n        domain: 'buyeasy.com',\n        soldPrice: 42000,\n        soldDate: '2023-06-30',\n        source: 'Sedo'\n    },\n    {\n        domain: 'marketpro.com',\n        soldPrice: 68000,\n        soldDate: '2023-08-12',\n        source: 'GoDaddy'\n    },\n    // Health domains\n    {\n        domain: 'healthapp.com',\n        soldPrice: 72000,\n        soldDate: '2023-05-15',\n        source: 'NameBio'\n    },\n    {\n        domain: 'medcare.com',\n        soldPrice: 85000,\n        soldDate: '2023-07-22',\n        source: 'Sedo'\n    },\n    {\n        domain: 'wellness.io',\n        soldPrice: 35000,\n        soldDate: '2023-08-28',\n        source: 'Flippa'\n    },\n    // Travel domains\n    {\n        domain: 'travelfast.com',\n        soldPrice: 48000,\n        soldDate: '2023-06-12',\n        source: 'GoDaddy'\n    },\n    {\n        domain: 'hotelbook.com',\n        soldPrice: 62000,\n        soldDate: '2023-09-05',\n        source: 'NameBio'\n    },\n    {\n        domain: 'flightdeal.com',\n        soldPrice: 38000,\n        soldDate: '2023-07-20',\n        source: 'Sedo'\n    },\n    // Business domains\n    {\n        domain: 'bizpro.com',\n        soldPrice: 52000,\n        soldDate: '2023-08-18',\n        source: 'Flippa'\n    },\n    {\n        domain: 'worktech.com',\n        soldPrice: 45000,\n        soldDate: '2023-06-25',\n        source: 'GoDaddy'\n    },\n    // Short/Premium domains\n    {\n        domain: 'ace.com',\n        soldPrice: 750000,\n        soldDate: '2023-04-10',\n        source: 'Private Sale'\n    },\n    {\n        domain: 'zap.com',\n        soldPrice: 425000,\n        soldDate: '2023-05-08',\n        source: 'Private Sale'\n    },\n    {\n        domain: 'hub.io',\n        soldPrice: 185000,\n        soldDate: '2023-07-15',\n        source: 'NameBio'\n    }\n];\n// Real comparable sales using NameBio API\nasync function findComparables(domain, limit = 5) {\n    try {\n        // Try to fetch real comparable sales from NameBio API\n        const realComps = await fetchRealComparables(domain, limit);\n        if (realComps.length > 0) {\n            return realComps;\n        }\n    } catch (error) {\n        console.warn('Failed to fetch real comparables from NameBio:', error);\n    }\n    // Fallback to sample data with improved similarity scoring\n    return findSampleComparables(domain, limit);\n}\nasync function fetchRealComparables(domain, limit) {\n    // Check if API key is configured\n    const apiKey = process.env.NAMEBIO_API_KEY;\n    if (!apiKey || apiKey.includes('your_') || apiKey.trim() === '') {\n        throw new Error('NameBio API key not configured - using fallback data');\n    }\n    // NameBio API implementation with correct REST contract (GET with query params)\n    const API_BASE_URL = 'https://api.namebio.com';\n    const domainName = domain.toLowerCase().replace(/\\.(com|net|org|io|ai|co|app|xyz|info|biz|me|tv|cc|ly|gl|tech|online|store|blog|site|news|pro|club|agency|studio|digital|dev|design|marketing|services|solutions|group|ventures|holdings|capital|fund|invest|crypto|blockchain|finance|bank|pay|wallet|trade|exchange|market|shop|buy|sell|deal|sale|cart|travel|hotel|flight|trip|vacation|booking|resort|learn|education|course|study|school|training|food|restaurant|delivery|recipe|kitchen|real|estate|property|home|house|rent|game|gaming|play|entertainment|fun|business|work|career|job|hire|health|medical|care|wellness|fitness|doctor|therapy|clinic|tech|software|cloud|data|digital|smart|auto|bot|ai)$/, '');\n    const tld = domain.split('.').pop()?.toLowerCase();\n    try {\n        // NameBio Sales Search API endpoint (correct endpoint)\n        const response = await fetch(`${API_BASE_URL}/sales/search`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${apiKey}`\n            },\n            body: JSON.stringify({\n                query: {\n                    domain_name: domain,\n                    similar_names: true,\n                    min_price: 100,\n                    tld: tld,\n                    limit: limit\n                }\n            })\n        });\n        if (!response.ok) {\n            if (response.status === 401) {\n                throw new Error('Invalid NameBio API key - check your credentials');\n            }\n            throw new Error(`NameBio API error: ${response.status}`);\n        }\n        const data = await response.json();\n        if (data.results && Array.isArray(data.results)) {\n            return data.results.map((comp)=>({\n                    domain: comp.domain,\n                    soldPrice: comp.price,\n                    soldDate: comp.date,\n                    source: comp.source || 'NameBio',\n                    similarity: comp.similarity || 0\n                }));\n        }\n        return [];\n    } catch (error) {\n        console.warn('Error fetching NameBio comparables:', error);\n        throw error // Re-throw so caller can handle appropriately\n        ;\n    }\n}\nfunction findSampleComparables(domain, limit = 5) {\n    const domainName = domain.toLowerCase().replace(/\\.(com|net|org|io|ai|co|app|xyz)$/, '');\n    const tld = domain.split('.').pop()?.toLowerCase();\n    // Improved similarity scoring based on:\n    // 1. Same TLD (bonus)\n    // 2. Similar length\n    // 3. Common keywords\n    // 4. Industry relevance\n    const scored = sampleComps.map((comp)=>{\n        const compName = comp.domain.toLowerCase().replace(/\\.(com|net|org|io|ai|co|app|xyz)$/, '');\n        const compTld = comp.domain.split('.').pop()?.toLowerCase();\n        let similarity = 0;\n        // TLD match bonus\n        if (tld === compTld) similarity += 30;\n        // Length similarity\n        const lengthDiff = Math.abs(domainName.length - compName.length);\n        if (lengthDiff === 0) similarity += 25;\n        else if (lengthDiff <= 2) similarity += 15;\n        else if (lengthDiff <= 4) similarity += 10;\n        // Keyword overlap (enhanced substring matching)\n        const domainWords = domainName.toLowerCase().split(/[-_]/);\n        const compWords = compName.toLowerCase().split(/[-_]/);\n        for (const word of domainWords){\n            if (word.length >= 3) {\n                for (const compWord of compWords){\n                    if (compWord.includes(word) || word.includes(compWord)) {\n                        similarity += Math.min(20, word.length * 3); // Longer words get higher similarity\n                    }\n                }\n            }\n        }\n        // Exact substring matches\n        if (compName.includes(domainName) || domainName.includes(compName)) {\n            similarity += 40;\n        }\n        // Industry/category bonus\n        const industryKeywords = [\n            'crypto',\n            'ai',\n            'tech',\n            'health',\n            'shop',\n            'travel',\n            'finance',\n            'pay'\n        ];\n        for (const keyword of industryKeywords){\n            if (domainName.includes(keyword) && compName.includes(keyword)) {\n                similarity += 15;\n            }\n        }\n        return {\n            ...comp,\n            similarity\n        };\n    });\n    return scored.filter((comp)=>comp.similarity > 20).sort((a, b)=>b.similarity - a.similarity).slice(0, limit);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OUIsSUFBSUUsS0FBS2xELE1BQU0sSUFBSSxHQUFHO2dCQUNwQixLQUFLLE1BQU1tRCxZQUFZRixVQUFXO29CQUNoQyxJQUFJRSxTQUFTMUMsUUFBUSxDQUFDeUMsU0FBU0EsS0FBS3pDLFFBQVEsQ0FBQzBDLFdBQVc7d0JBQ3REVixjQUFjSyxLQUFLTSxHQUFHLENBQUMsSUFBSUYsS0FBS2xELE1BQU0sR0FBRyxJQUFHLHFDQUFxQztvQkFDbkY7Z0JBQ0Y7WUFDRjtRQUNGO1FBRUEsMEJBQTBCO1FBQzFCLElBQUkyQyxTQUFTbEMsUUFBUSxDQUFDSSxlQUFlQSxXQUFXSixRQUFRLENBQUNrQyxXQUFXO1lBQ2xFRixjQUFjO1FBQ2hCO1FBRUEsMEJBQTBCO1FBQzFCLE1BQU1ZLG1CQUFtQjtZQUFDO1lBQVU7WUFBTTtZQUFRO1lBQVU7WUFBUTtZQUFVO1lBQVc7U0FBTTtRQUMvRixLQUFLLE1BQU1DLFdBQVdELGlCQUFrQjtZQUN0QyxJQUFJeEMsV0FBV0osUUFBUSxDQUFDNkMsWUFBWVgsU0FBU2xDLFFBQVEsQ0FBQzZDLFVBQVU7Z0JBQzlEYixjQUFjO1lBQ2hCO1FBQ0Y7UUFFQSxPQUFPO1lBQUUsR0FBR0gsSUFBSTtZQUFFRztRQUFXO0lBQy9CO0lBRUEsT0FBT0MsT0FDSmEsTUFBTSxDQUFDakIsQ0FBQUEsT0FBUUEsS0FBS0csVUFBVSxHQUFHLElBQ2pDZSxJQUFJLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUEsRUFBRWpCLFVBQVUsR0FBR2dCLEVBQUVoQixVQUFVLEVBQzFDa0IsS0FBSyxDQUFDLEdBQUc5RDtBQUNkIiwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL3NyYy9kYXRhL3NhbXBsZS1jb21wcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTYW1wbGUgY29tcGFyYWJsZSBzYWxlcyBkYXRhIGZvciBkb21haW4gdmFsdWF0aW9uXG5leHBvcnQgaW50ZXJmYWNlIENvbXBhcmFibGVTYWxlIHtcbiAgZG9tYWluOiBzdHJpbmdcbiAgc29sZFByaWNlOiBudW1iZXJcbiAgc29sZERhdGU6IHN0cmluZ1xuICBzb3VyY2U6IHN0cmluZ1xufVxuXG5leHBvcnQgY29uc3Qgc2FtcGxlQ29tcHM6IENvbXBhcmFibGVTYWxlW10gPSBbXG4gIC8vIEZpbmFuY2UvQ3J5cHRvIGRvbWFpbnNcbiAgeyBkb21haW46ICdjcnlwdG93YWxsZXQuY29tJywgc29sZFByaWNlOiAyNTAwMDAsIHNvbGREYXRlOiAnMjAyMy0wOC0xNScsIHNvdXJjZTogJ05hbWVCaW8nIH0sXG4gIHsgZG9tYWluOiAnYml0Y29pbmV4Y2hhbmdlLmNvbScsIHNvbGRQcmljZTogMTc1MDAwLCBzb2xkRGF0ZTogJzIwMjMtMDYtMjInLCBzb3VyY2U6ICdTZWRvJyB9LFxuICB7IGRvbWFpbjogJ2ZpbmFuY2Vwcm8uY29tJywgc29sZFByaWNlOiA4NTAwMCwgc29sZERhdGU6ICcyMDIzLTA5LTEwJywgc291cmNlOiAnR29EYWRkeScgfSxcbiAgeyBkb21haW46ICdwYXlmYXN0LmNvbScsIHNvbGRQcmljZTogOTUwMDAsIHNvbGREYXRlOiAnMjAyMy0wNy0xOCcsIHNvdXJjZTogJ05hbWVCaW8nIH0sXG4gIFxuICAvLyBUZWNoL0FJIGRvbWFpbnNcbiAgeyBkb21haW46ICdhaXRvb2xzLmNvbScsIHNvbGRQcmljZTogMTI1MDAwLCBzb2xkRGF0ZTogJzIwMjMtMDUtMjAnLCBzb3VyY2U6ICdGbGlwcGEnIH0sXG4gIHsgZG9tYWluOiAnc21hcnRhcHAuY29tJywgc29sZFByaWNlOiA2NTAwMCwgc29sZERhdGU6ICcyMDIzLTA4LTAzJywgc291cmNlOiAnU2VkbycgfSxcbiAgeyBkb21haW46ICdjbG91ZHRlY2guY29tJywgc29sZFByaWNlOiA3ODAwMCwgc29sZERhdGU6ICcyMDIzLTA2LTE1Jywgc291cmNlOiAnR29EYWRkeScgfSxcbiAgeyBkb21haW46ICdkYXRhYm90LmNvbScsIHNvbGRQcmljZTogNDUwMDAsIHNvbGREYXRlOiAnMjAyMy0wOS0yNScsIHNvdXJjZTogJ05hbWVCaW8nIH0sXG4gIFxuICAvLyBFLWNvbW1lcmNlIGRvbWFpbnNcbiAgeyBkb21haW46ICdzaG9wZmFzdC5jb20nLCBzb2xkUHJpY2U6IDU1MDAwLCBzb2xkRGF0ZTogJzIwMjMtMDctMDgnLCBzb3VyY2U6ICdGbGlwcGEnIH0sXG4gIHsgZG9tYWluOiAnYnV5ZWFzeS5jb20nLCBzb2xkUHJpY2U6IDQyMDAwLCBzb2xkRGF0ZTogJzIwMjMtMDYtMzAnLCBzb3VyY2U6ICdTZWRvJyB9LFxuICB7IGRvbWFpbjogJ21hcmtldHByby5jb20nLCBzb2xkUHJpY2U6IDY4MDAwLCBzb2xkRGF0ZTogJzIwMjMtMDgtMTInLCBzb3VyY2U6ICdHb0RhZGR5JyB9LFxuICBcbiAgLy8gSGVhbHRoIGRvbWFpbnNcbiAgeyBkb21haW46ICdoZWFsdGhhcHAuY29tJywgc29sZFByaWNlOiA3MjAwMCwgc29sZERhdGU6ICcyMDIzLTA1LTE1Jywgc291cmNlOiAnTmFtZUJpbycgfSxcbiAgeyBkb21haW46ICdtZWRjYXJlLmNvbScsIHNvbGRQcmljZTogODUwMDAsIHNvbGREYXRlOiAnMjAyMy0wNy0yMicsIHNvdXJjZTogJ1NlZG8nIH0sXG4gIHsgZG9tYWluOiAnd2VsbG5lc3MuaW8nLCBzb2xkUHJpY2U6IDM1MDAwLCBzb2xkRGF0ZTogJzIwMjMtMDgtMjgnLCBzb3VyY2U6ICdGbGlwcGEnIH0sXG4gIFxuICAvLyBUcmF2ZWwgZG9tYWluc1xuICB7IGRvbWFpbjogJ3RyYXZlbGZhc3QuY29tJywgc29sZFByaWNlOiA0ODAwMCwgc29sZERhdGU6ICcyMDIzLTA2LTEyJywgc291cmNlOiAnR29EYWRkeScgfSxcbiAgeyBkb21haW46ICdob3RlbGJvb2suY29tJywgc29sZFByaWNlOiA2MjAwMCwgc29sZERhdGU6ICcyMDIzLTA5LTA1Jywgc291cmNlOiAnTmFtZUJpbycgfSxcbiAgeyBkb21haW46ICdmbGlnaHRkZWFsLmNvbScsIHNvbGRQcmljZTogMzgwMDAsIHNvbGREYXRlOiAnMjAyMy0wNy0yMCcsIHNvdXJjZTogJ1NlZG8nIH0sXG4gIFxuICAvLyBCdXNpbmVzcyBkb21haW5zXG4gIHsgZG9tYWluOiAnYml6cHJvLmNvbScsIHNvbGRQcmljZTogNTIwMDAsIHNvbGREYXRlOiAnMjAyMy0wOC0xOCcsIHNvdXJjZTogJ0ZsaXBwYScgfSxcbiAgeyBkb21haW46ICd3b3JrdGVjaC5jb20nLCBzb2xkUHJpY2U6IDQ1MDAwLCBzb2xkRGF0ZTogJzIwMjMtMDYtMjUnLCBzb3VyY2U6ICdHb0RhZGR5JyB9LFxuICBcbiAgLy8gU2hvcnQvUHJlbWl1bSBkb21haW5zXG4gIHsgZG9tYWluOiAnYWNlLmNvbScsIHNvbGRQcmljZTogNzUwMDAwLCBzb2xkRGF0ZTogJzIwMjMtMDQtMTAnLCBzb3VyY2U6ICdQcml2YXRlIFNhbGUnIH0sXG4gIHsgZG9tYWluOiAnemFwLmNvbScsIHNvbGRQcmljZTogNDI1MDAwLCBzb2xkRGF0ZTogJzIwMjMtMDUtMDgnLCBzb3VyY2U6ICdQcml2YXRlIFNhbGUnIH0sXG4gIHsgZG9tYWluOiAnaHViLmlvJywgc29sZFByaWNlOiAxODUwMDAsIHNvbGREYXRlOiAnMjAyMy0wNy0xNScsIHNvdXJjZTogJ05hbWVCaW8nIH1cbl1cblxuLy8gUmVhbCBjb21wYXJhYmxlIHNhbGVzIHVzaW5nIE5hbWVCaW8gQVBJXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZENvbXBhcmFibGVzKGRvbWFpbjogc3RyaW5nLCBsaW1pdDogbnVtYmVyID0gNSk6IFByb21pc2U8Q29tcGFyYWJsZVNhbGVbXT4ge1xuICB0cnkge1xuICAgIC8vIFRyeSB0byBmZXRjaCByZWFsIGNvbXBhcmFibGUgc2FsZXMgZnJvbSBOYW1lQmlvIEFQSVxuICAgIGNvbnN0IHJlYWxDb21wcyA9IGF3YWl0IGZldGNoUmVhbENvbXBhcmFibGVzKGRvbWFpbiwgbGltaXQpXG4gICAgaWYgKHJlYWxDb21wcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gcmVhbENvbXBzXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGZldGNoIHJlYWwgY29tcGFyYWJsZXMgZnJvbSBOYW1lQmlvOicsIGVycm9yKVxuICB9XG5cbiAgLy8gRmFsbGJhY2sgdG8gc2FtcGxlIGRhdGEgd2l0aCBpbXByb3ZlZCBzaW1pbGFyaXR5IHNjb3JpbmdcbiAgcmV0dXJuIGZpbmRTYW1wbGVDb21wYXJhYmxlcyhkb21haW4sIGxpbWl0KVxufVxuXG5hc3luYyBmdW5jdGlvbiBmZXRjaFJlYWxDb21wYXJhYmxlcyhkb21haW46IHN0cmluZywgbGltaXQ6IG51bWJlcik6IFByb21pc2U8Q29tcGFyYWJsZVNhbGVbXT4ge1xuICAvLyBDaGVjayBpZiBBUEkga2V5IGlzIGNvbmZpZ3VyZWRcbiAgY29uc3QgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuTkFNRUJJT19BUElfS0VZXG4gIGlmICghYXBpS2V5IHx8IGFwaUtleS5pbmNsdWRlcygneW91cl8nKSB8fCBhcGlLZXkudHJpbSgpID09PSAnJykge1xuICAgIHRocm93IG5ldyBFcnJvcignTmFtZUJpbyBBUEkga2V5IG5vdCBjb25maWd1cmVkIC0gdXNpbmcgZmFsbGJhY2sgZGF0YScpXG4gIH1cblxuICAvLyBOYW1lQmlvIEFQSSBpbXBsZW1lbnRhdGlvbiB3aXRoIGNvcnJlY3QgUkVTVCBjb250cmFjdCAoR0VUIHdpdGggcXVlcnkgcGFyYW1zKVxuICBjb25zdCBBUElfQkFTRV9VUkwgPSAnaHR0cHM6Ly9hcGkubmFtZWJpby5jb20nXG4gIFxuICBjb25zdCBkb21haW5OYW1lID0gZG9tYWluLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFwuKGNvbXxuZXR8b3JnfGlvfGFpfGNvfGFwcHx4eXp8aW5mb3xiaXp8bWV8dHZ8Y2N8bHl8Z2x8dGVjaHxvbmxpbmV8c3RvcmV8YmxvZ3xzaXRlfG5ld3N8cHJvfGNsdWJ8YWdlbmN5fHN0dWRpb3xkaWdpdGFsfGRldnxkZXNpZ258bWFya2V0aW5nfHNlcnZpY2VzfHNvbHV0aW9uc3xncm91cHx2ZW50dXJlc3xob2xkaW5nc3xjYXBpdGFsfGZ1bmR8aW52ZXN0fGNyeXB0b3xibG9ja2NoYWlufGZpbmFuY2V8YmFua3xwYXl8d2FsbGV0fHRyYWRlfGV4Y2hhbmdlfG1hcmtldHxzaG9wfGJ1eXxzZWxsfGRlYWx8c2FsZXxjYXJ0fHRyYXZlbHxob3RlbHxmbGlnaHR8dHJpcHx2YWNhdGlvbnxib29raW5nfHJlc29ydHxsZWFybnxlZHVjYXRpb258Y291cnNlfHN0dWR5fHNjaG9vbHx0cmFpbmluZ3xmb29kfHJlc3RhdXJhbnR8ZGVsaXZlcnl8cmVjaXBlfGtpdGNoZW58cmVhbHxlc3RhdGV8cHJvcGVydHl8aG9tZXxob3VzZXxyZW50fGdhbWV8Z2FtaW5nfHBsYXl8ZW50ZXJ0YWlubWVudHxmdW58YnVzaW5lc3N8d29ya3xjYXJlZXJ8am9ifGhpcmV8aGVhbHRofG1lZGljYWx8Y2FyZXx3ZWxsbmVzc3xmaXRuZXNzfGRvY3Rvcnx0aGVyYXB5fGNsaW5pY3x0ZWNofHNvZnR3YXJlfGNsb3VkfGRhdGF8ZGlnaXRhbHxzbWFydHxhdXRvfGJvdHxhaSkkLywgJycpXG4gIGNvbnN0IHRsZCA9IGRvbWFpbi5zcGxpdCgnLicpLnBvcCgpPy50b0xvd2VyQ2FzZSgpXG5cbiAgdHJ5IHtcbiAgICAvLyBOYW1lQmlvIFNhbGVzIFNlYXJjaCBBUEkgZW5kcG9pbnQgKGNvcnJlY3QgZW5kcG9pbnQpXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L3NhbGVzL3NlYXJjaGAsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHthcGlLZXl9YFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICBkb21haW5fbmFtZTogZG9tYWluLFxuICAgICAgICAgIHNpbWlsYXJfbmFtZXM6IHRydWUsXG4gICAgICAgICAgbWluX3ByaWNlOiAxMDAsXG4gICAgICAgICAgdGxkOiB0bGQsXG4gICAgICAgICAgbGltaXQ6IGxpbWl0XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgTmFtZUJpbyBBUEkga2V5IC0gY2hlY2sgeW91ciBjcmVkZW50aWFscycpXG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5hbWVCaW8gQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKVxuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICBcbiAgICBpZiAoZGF0YS5yZXN1bHRzICYmIEFycmF5LmlzQXJyYXkoZGF0YS5yZXN1bHRzKSkge1xuICAgICAgcmV0dXJuIGRhdGEucmVzdWx0cy5tYXAoKGNvbXA6IGFueSkgPT4gKHtcbiAgICAgICAgZG9tYWluOiBjb21wLmRvbWFpbixcbiAgICAgICAgc29sZFByaWNlOiBjb21wLnByaWNlLFxuICAgICAgICBzb2xkRGF0ZTogY29tcC5kYXRlLFxuICAgICAgICBzb3VyY2U6IGNvbXAuc291cmNlIHx8ICdOYW1lQmlvJyxcbiAgICAgICAgc2ltaWxhcml0eTogY29tcC5zaW1pbGFyaXR5IHx8IDBcbiAgICAgIH0pKVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gW11cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGZldGNoaW5nIE5hbWVCaW8gY29tcGFyYWJsZXM6JywgZXJyb3IpXG4gICAgdGhyb3cgZXJyb3IgLy8gUmUtdGhyb3cgc28gY2FsbGVyIGNhbiBoYW5kbGUgYXBwcm9wcmlhdGVseVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRTYW1wbGVDb21wYXJhYmxlcyhkb21haW46IHN0cmluZywgbGltaXQ6IG51bWJlciA9IDUpOiBDb21wYXJhYmxlU2FsZVtdIHtcbiAgY29uc3QgZG9tYWluTmFtZSA9IGRvbWFpbi50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcLihjb218bmV0fG9yZ3xpb3xhaXxjb3xhcHB8eHl6KSQvLCAnJylcbiAgY29uc3QgdGxkID0gZG9tYWluLnNwbGl0KCcuJykucG9wKCk/LnRvTG93ZXJDYXNlKClcbiAgXG4gIC8vIEltcHJvdmVkIHNpbWlsYXJpdHkgc2NvcmluZyBiYXNlZCBvbjpcbiAgLy8gMS4gU2FtZSBUTEQgKGJvbnVzKVxuICAvLyAyLiBTaW1pbGFyIGxlbmd0aFxuICAvLyAzLiBDb21tb24ga2V5d29yZHNcbiAgLy8gNC4gSW5kdXN0cnkgcmVsZXZhbmNlXG4gIFxuICBjb25zdCBzY29yZWQgPSBzYW1wbGVDb21wcy5tYXAoY29tcCA9PiB7XG4gICAgY29uc3QgY29tcE5hbWUgPSBjb21wLmRvbWFpbi50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcLihjb218bmV0fG9yZ3xpb3xhaXxjb3xhcHB8eHl6KSQvLCAnJylcbiAgICBjb25zdCBjb21wVGxkID0gY29tcC5kb21haW4uc3BsaXQoJy4nKS5wb3AoKT8udG9Mb3dlckNhc2UoKVxuICAgIFxuICAgIGxldCBzaW1pbGFyaXR5ID0gMFxuICAgIFxuICAgIC8vIFRMRCBtYXRjaCBib251c1xuICAgIGlmICh0bGQgPT09IGNvbXBUbGQpIHNpbWlsYXJpdHkgKz0gMzBcbiAgICBcbiAgICAvLyBMZW5ndGggc2ltaWxhcml0eVxuICAgIGNvbnN0IGxlbmd0aERpZmYgPSBNYXRoLmFicyhkb21haW5OYW1lLmxlbmd0aCAtIGNvbXBOYW1lLmxlbmd0aClcbiAgICBpZiAobGVuZ3RoRGlmZiA9PT0gMCkgc2ltaWxhcml0eSArPSAyNVxuICAgIGVsc2UgaWYgKGxlbmd0aERpZmYgPD0gMikgc2ltaWxhcml0eSArPSAxNVxuICAgIGVsc2UgaWYgKGxlbmd0aERpZmYgPD0gNCkgc2ltaWxhcml0eSArPSAxMFxuICAgIFxuICAgIC8vIEtleXdvcmQgb3ZlcmxhcCAoZW5oYW5jZWQgc3Vic3RyaW5nIG1hdGNoaW5nKVxuICAgIGNvbnN0IGRvbWFpbldvcmRzID0gZG9tYWluTmFtZS50b0xvd2VyQ2FzZSgpLnNwbGl0KC9bLV9dLylcbiAgICBjb25zdCBjb21wV29yZHMgPSBjb21wTmFtZS50b0xvd2VyQ2FzZSgpLnNwbGl0KC9bLV9dLylcbiAgICBcbiAgICBmb3IgKGNvbnN0IHdvcmQgb2YgZG9tYWluV29yZHMpIHtcbiAgICAgIGlmICh3b3JkLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgIGZvciAoY29uc3QgY29tcFdvcmQgb2YgY29tcFdvcmRzKSB7XG4gICAgICAgICAgaWYgKGNvbXBXb3JkLmluY2x1ZGVzKHdvcmQpIHx8IHdvcmQuaW5jbHVkZXMoY29tcFdvcmQpKSB7XG4gICAgICAgICAgICBzaW1pbGFyaXR5ICs9IE1hdGgubWluKDIwLCB3b3JkLmxlbmd0aCAqIDMpIC8vIExvbmdlciB3b3JkcyBnZXQgaGlnaGVyIHNpbWlsYXJpdHlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gRXhhY3Qgc3Vic3RyaW5nIG1hdGNoZXNcbiAgICBpZiAoY29tcE5hbWUuaW5jbHVkZXMoZG9tYWluTmFtZSkgfHwgZG9tYWluTmFtZS5pbmNsdWRlcyhjb21wTmFtZSkpIHtcbiAgICAgIHNpbWlsYXJpdHkgKz0gNDBcbiAgICB9XG4gICAgXG4gICAgLy8gSW5kdXN0cnkvY2F0ZWdvcnkgYm9udXNcbiAgICBjb25zdCBpbmR1c3RyeUtleXdvcmRzID0gWydjcnlwdG8nLCAnYWknLCAndGVjaCcsICdoZWFsdGgnLCAnc2hvcCcsICd0cmF2ZWwnLCAnZmluYW5jZScsICdwYXknXVxuICAgIGZvciAoY29uc3Qga2V5d29yZCBvZiBpbmR1c3RyeUtleXdvcmRzKSB7XG4gICAgICBpZiAoZG9tYWluTmFtZS5pbmNsdWRlcyhrZXl3b3JkKSAmJiBjb21wTmFtZS5pbmNsdWRlcyhrZXl3b3JkKSkge1xuICAgICAgICBzaW1pbGFyaXR5ICs9IDE1XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IC4uLmNvbXAsIHNpbWlsYXJpdHkgfVxuICB9KVxuICBcbiAgcmV0dXJuIHNjb3JlZFxuICAgIC5maWx0ZXIoY29tcCA9PiBjb21wLnNpbWlsYXJpdHkgPiAyMClcbiAgICAuc29ydCgoYSwgYikgPT4gYi5zaW1pbGFyaXR5IC0gYS5zaW1pbGFyaXR5KVxuICAgIC5zbGljZSgwLCBsaW1pdClcbn0iXSwibmFtZXMiOlsic2FtcGxlQ29tcHMiLCJkb21haW4iLCJzb2xkUHJpY2UiLCJzb2xkRGF0ZSIsInNvdXJjZSIsImZpbmRDb21wYXJhYmxlcyIsImxpbWl0IiwicmVhbENvbXBzIiwiZmV0Y2hSZWFsQ29tcGFyYWJsZXMiLCJsZW5ndGgiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiZmluZFNhbXBsZUNvbXBhcmFibGVzIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk5BTUVCSU9fQVBJX0tFWSIsImluY2x1ZGVzIiwidHJpbSIsIkVycm9yIiwiQVBJX0JBU0VfVVJMIiwiZG9tYWluTmFtZSIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsInRsZCIsInNwbGl0IiwicG9wIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInF1ZXJ5IiwiZG9tYWluX25hbWUiLCJzaW1pbGFyX25hbWVzIiwibWluX3ByaWNlIiwib2siLCJzdGF0dXMiLCJkYXRhIiwianNvbiIsInJlc3VsdHMiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJjb21wIiwicHJpY2UiLCJkYXRlIiwic2ltaWxhcml0eSIsInNjb3JlZCIsImNvbXBOYW1lIiwiY29tcFRsZCIsImxlbmd0aERpZmYiLCJNYXRoIiwiYWJzIiwiZG9tYWluV29yZHMiLCJjb21wV29yZHMiLCJ3b3JkIiwiY29tcFdvcmQiLCJtaW4iLCJpbmR1c3RyeUtleXdvcmRzIiwia2V5d29yZCIsImZpbHRlciIsInNvcnQiLCJhIiwiYiIsInNsaWNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/data/sample-comps.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/database.ts":
/*!*****************************!*\
  !*** ./src/lib/database.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initDatabase: () => (/* binding */ initDatabase),\n/* harmony export */   pool: () => (/* binding */ pool)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_0__]);\npg__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst pool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n    connectionString: process.env.DATABASE_URL\n});\n// Database initialization promise to prevent multiple concurrent initializations\nlet initPromise = null;\nasync function initDatabase() {\n    // If initialization is already in progress, wait for it to complete\n    if (initPromise) {\n        return initPromise;\n    }\n    // Start initialization with error handling\n    initPromise = performInit().catch((err)=>{\n        // Reset promise on failure so future calls can retry\n        initPromise = null;\n        throw err;\n    });\n    return initPromise;\n}\nasync function performInit() {\n    const client = await pool.connect();\n    try {\n        // Create appraisals table\n        await client.query(`\n      CREATE TABLE IF NOT EXISTS appraisals (\n        id SERIAL PRIMARY KEY,\n        domain VARCHAR(255) NOT NULL,\n        final_score DECIMAL(5,2) NOT NULL,\n        breakdown JSONB NOT NULL,\n        price_estimate JSONB NOT NULL,\n        comps JSONB DEFAULT '[]',\n        legal_flag VARCHAR(10) DEFAULT 'clear',\n        ai_comment TEXT,\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n        user_id VARCHAR(255) NULL\n      )\n    `);\n        // Create comparable sales table\n        await client.query(`\n      CREATE TABLE IF NOT EXISTS comps (\n        id SERIAL PRIMARY KEY,\n        domain VARCHAR(255) NOT NULL,\n        sold_price INTEGER NOT NULL,\n        sold_date DATE NOT NULL,\n        source VARCHAR(100) NOT NULL,\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n        // Create settings table for factor weights and configurations\n        await client.query(`\n      CREATE TABLE IF NOT EXISTS settings (\n        id SERIAL PRIMARY KEY,\n        key VARCHAR(100) UNIQUE NOT NULL,\n        value JSONB NOT NULL,\n        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n        // Insert default factor weights if not exists\n        await client.query(`\n      INSERT INTO settings (key, value) VALUES \n      ('factor_weights', '{\"length\": 0.12, \"keywords\": 0.20, \"tld\": 0.15, \"brandability\": 0.15, \"industry\": 0.10, \"comps\": 0.12, \"age\": 0.06, \"traffic\": 0.04, \"liquidity\": 0.06}')\n      ON CONFLICT (key) DO NOTHING\n    `);\n        // Insert default legal brand list\n        await client.query(`\n      INSERT INTO settings (key, value) VALUES \n      ('legal_brands', '[\"google\", \"facebook\", \"amazon\", \"microsoft\", \"apple\", \"twitter\", \"instagram\", \"youtube\", \"linkedin\", \"netflix\", \"tesla\", \"uber\", \"airbnb\", \"spotify\", \"paypal\", \"visa\", \"mastercard\", \"coca-cola\", \"pepsi\", \"nike\", \"adidas\", \"samsung\", \"sony\", \"intel\", \"oracle\", \"salesforce\", \"adobe\", \"zoom\", \"slack\", \"dropbox\", \"github\", \"reddit\", \"pinterest\", \"snapchat\", \"tiktok\", \"whatsapp\", \"telegram\", \"discord\", \"twitch\", \"shopify\", \"square\", \"stripe\", \"mailchimp\", \"hubspot\", \"atlassian\", \"figma\", \"canva\", \"notion\"]')\n      ON CONFLICT (key) DO NOTHING\n    `);\n        console.log('Database initialized successfully');\n    } finally{\n        client.release();\n    }\n}\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RhdGFiYXNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF5QjtBQUV6QixNQUFNQyxPQUFPLElBQUlELG9DQUFJQSxDQUFDO0lBQ3BCRSxrQkFBa0JDLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWTtBQUM1QztBQUVBLGlGQUFpRjtBQUNqRixJQUFJQyxjQUFvQztBQUVqQyxlQUFlQztJQUNwQixvRUFBb0U7SUFDcEUsSUFBSUQsYUFBYTtRQUNmLE9BQU9BO0lBQ1Q7SUFFQSwyQ0FBMkM7SUFDM0NBLGNBQWNFLGNBQWNDLEtBQUssQ0FBQ0MsQ0FBQUE7UUFDaEMscURBQXFEO1FBQ3JESixjQUFjO1FBQ2QsTUFBTUk7SUFDUjtJQUNBLE9BQU9KO0FBQ1Q7QUFFQSxlQUFlRTtJQUNiLE1BQU1HLFNBQVMsTUFBTVYsS0FBS1csT0FBTztJQUVqQyxJQUFJO1FBQ0YsMEJBQTBCO1FBQzFCLE1BQU1ELE9BQU9FLEtBQUssQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7O0lBYXBCLENBQUM7UUFFRCxnQ0FBZ0M7UUFDaEMsTUFBTUYsT0FBT0UsS0FBSyxDQUFDLENBQUM7Ozs7Ozs7OztJQVNwQixDQUFDO1FBRUQsOERBQThEO1FBQzlELE1BQU1GLE9BQU9FLEtBQUssQ0FBQyxDQUFDOzs7Ozs7O0lBT3BCLENBQUM7UUFFRCw4Q0FBOEM7UUFDOUMsTUFBTUYsT0FBT0UsS0FBSyxDQUFDLENBQUM7Ozs7SUFJcEIsQ0FBQztRQUVELGtDQUFrQztRQUNsQyxNQUFNRixPQUFPRSxLQUFLLENBQUMsQ0FBQzs7OztJQUlwQixDQUFDO1FBRURDLFFBQVFDLEdBQUcsQ0FBQztJQUNkLFNBQVU7UUFDUkosT0FBT0ssT0FBTztJQUNoQjtBQUNGO0FBRWUiLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvc3JjL2xpYi9kYXRhYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb29sIH0gZnJvbSAncGcnXG5cbmNvbnN0IHBvb2wgPSBuZXcgUG9vbCh7XG4gIGNvbm5lY3Rpb25TdHJpbmc6IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCxcbn0pXG5cbi8vIERhdGFiYXNlIGluaXRpYWxpemF0aW9uIHByb21pc2UgdG8gcHJldmVudCBtdWx0aXBsZSBjb25jdXJyZW50IGluaXRpYWxpemF0aW9uc1xubGV0IGluaXRQcm9taXNlOiBQcm9taXNlPHZvaWQ+IHwgbnVsbCA9IG51bGxcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXREYXRhYmFzZSgpIHtcbiAgLy8gSWYgaW5pdGlhbGl6YXRpb24gaXMgYWxyZWFkeSBpbiBwcm9ncmVzcywgd2FpdCBmb3IgaXQgdG8gY29tcGxldGVcbiAgaWYgKGluaXRQcm9taXNlKSB7XG4gICAgcmV0dXJuIGluaXRQcm9taXNlXG4gIH1cblxuICAvLyBTdGFydCBpbml0aWFsaXphdGlvbiB3aXRoIGVycm9yIGhhbmRsaW5nXG4gIGluaXRQcm9taXNlID0gcGVyZm9ybUluaXQoKS5jYXRjaChlcnIgPT4ge1xuICAgIC8vIFJlc2V0IHByb21pc2Ugb24gZmFpbHVyZSBzbyBmdXR1cmUgY2FsbHMgY2FuIHJldHJ5XG4gICAgaW5pdFByb21pc2UgPSBudWxsXG4gICAgdGhyb3cgZXJyXG4gIH0pXG4gIHJldHVybiBpbml0UHJvbWlzZVxufVxuXG5hc3luYyBmdW5jdGlvbiBwZXJmb3JtSW5pdCgpIHtcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KClcbiAgXG4gIHRyeSB7XG4gICAgLy8gQ3JlYXRlIGFwcHJhaXNhbHMgdGFibGVcbiAgICBhd2FpdCBjbGllbnQucXVlcnkoYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgYXBwcmFpc2FscyAoXG4gICAgICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSxcbiAgICAgICAgZG9tYWluIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAgICAgZmluYWxfc2NvcmUgREVDSU1BTCg1LDIpIE5PVCBOVUxMLFxuICAgICAgICBicmVha2Rvd24gSlNPTkIgTk9UIE5VTEwsXG4gICAgICAgIHByaWNlX2VzdGltYXRlIEpTT05CIE5PVCBOVUxMLFxuICAgICAgICBjb21wcyBKU09OQiBERUZBVUxUICdbXScsXG4gICAgICAgIGxlZ2FsX2ZsYWcgVkFSQ0hBUigxMCkgREVGQVVMVCAnY2xlYXInLFxuICAgICAgICBhaV9jb21tZW50IFRFWFQsXG4gICAgICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXG4gICAgICAgIHVzZXJfaWQgVkFSQ0hBUigyNTUpIE5VTExcbiAgICAgIClcbiAgICBgKVxuICAgIFxuICAgIC8vIENyZWF0ZSBjb21wYXJhYmxlIHNhbGVzIHRhYmxlXG4gICAgYXdhaXQgY2xpZW50LnF1ZXJ5KGBcbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGNvbXBzIChcbiAgICAgICAgaWQgU0VSSUFMIFBSSU1BUlkgS0VZLFxuICAgICAgICBkb21haW4gVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgICAgICBzb2xkX3ByaWNlIElOVEVHRVIgTk9UIE5VTEwsXG4gICAgICAgIHNvbGRfZGF0ZSBEQVRFIE5PVCBOVUxMLFxuICAgICAgICBzb3VyY2UgVkFSQ0hBUigxMDApIE5PVCBOVUxMLFxuICAgICAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QXG4gICAgICApXG4gICAgYClcbiAgICBcbiAgICAvLyBDcmVhdGUgc2V0dGluZ3MgdGFibGUgZm9yIGZhY3RvciB3ZWlnaHRzIGFuZCBjb25maWd1cmF0aW9uc1xuICAgIGF3YWl0IGNsaWVudC5xdWVyeShgXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBzZXR0aW5ncyAoXG4gICAgICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSxcbiAgICAgICAga2V5IFZBUkNIQVIoMTAwKSBVTklRVUUgTk9UIE5VTEwsXG4gICAgICAgIHZhbHVlIEpTT05CIE5PVCBOVUxMLFxuICAgICAgICB1cGRhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QXG4gICAgICApXG4gICAgYClcbiAgICBcbiAgICAvLyBJbnNlcnQgZGVmYXVsdCBmYWN0b3Igd2VpZ2h0cyBpZiBub3QgZXhpc3RzXG4gICAgYXdhaXQgY2xpZW50LnF1ZXJ5KGBcbiAgICAgIElOU0VSVCBJTlRPIHNldHRpbmdzIChrZXksIHZhbHVlKSBWQUxVRVMgXG4gICAgICAoJ2ZhY3Rvcl93ZWlnaHRzJywgJ3tcImxlbmd0aFwiOiAwLjEyLCBcImtleXdvcmRzXCI6IDAuMjAsIFwidGxkXCI6IDAuMTUsIFwiYnJhbmRhYmlsaXR5XCI6IDAuMTUsIFwiaW5kdXN0cnlcIjogMC4xMCwgXCJjb21wc1wiOiAwLjEyLCBcImFnZVwiOiAwLjA2LCBcInRyYWZmaWNcIjogMC4wNCwgXCJsaXF1aWRpdHlcIjogMC4wNn0nKVxuICAgICAgT04gQ09ORkxJQ1QgKGtleSkgRE8gTk9USElOR1xuICAgIGApXG4gICAgXG4gICAgLy8gSW5zZXJ0IGRlZmF1bHQgbGVnYWwgYnJhbmQgbGlzdFxuICAgIGF3YWl0IGNsaWVudC5xdWVyeShgXG4gICAgICBJTlNFUlQgSU5UTyBzZXR0aW5ncyAoa2V5LCB2YWx1ZSkgVkFMVUVTIFxuICAgICAgKCdsZWdhbF9icmFuZHMnLCAnW1wiZ29vZ2xlXCIsIFwiZmFjZWJvb2tcIiwgXCJhbWF6b25cIiwgXCJtaWNyb3NvZnRcIiwgXCJhcHBsZVwiLCBcInR3aXR0ZXJcIiwgXCJpbnN0YWdyYW1cIiwgXCJ5b3V0dWJlXCIsIFwibGlua2VkaW5cIiwgXCJuZXRmbGl4XCIsIFwidGVzbGFcIiwgXCJ1YmVyXCIsIFwiYWlyYm5iXCIsIFwic3BvdGlmeVwiLCBcInBheXBhbFwiLCBcInZpc2FcIiwgXCJtYXN0ZXJjYXJkXCIsIFwiY29jYS1jb2xhXCIsIFwicGVwc2lcIiwgXCJuaWtlXCIsIFwiYWRpZGFzXCIsIFwic2Ftc3VuZ1wiLCBcInNvbnlcIiwgXCJpbnRlbFwiLCBcIm9yYWNsZVwiLCBcInNhbGVzZm9yY2VcIiwgXCJhZG9iZVwiLCBcInpvb21cIiwgXCJzbGFja1wiLCBcImRyb3Bib3hcIiwgXCJnaXRodWJcIiwgXCJyZWRkaXRcIiwgXCJwaW50ZXJlc3RcIiwgXCJzbmFwY2hhdFwiLCBcInRpa3Rva1wiLCBcIndoYXRzYXBwXCIsIFwidGVsZWdyYW1cIiwgXCJkaXNjb3JkXCIsIFwidHdpdGNoXCIsIFwic2hvcGlmeVwiLCBcInNxdWFyZVwiLCBcInN0cmlwZVwiLCBcIm1haWxjaGltcFwiLCBcImh1YnNwb3RcIiwgXCJhdGxhc3NpYW5cIiwgXCJmaWdtYVwiLCBcImNhbnZhXCIsIFwibm90aW9uXCJdJylcbiAgICAgIE9OIENPTkZMSUNUIChrZXkpIERPIE5PVEhJTkdcbiAgICBgKVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHknKVxuICB9IGZpbmFsbHkge1xuICAgIGNsaWVudC5yZWxlYXNlKClcbiAgfVxufVxuXG5leHBvcnQgeyBwb29sIH0iXSwibmFtZXMiOlsiUG9vbCIsInBvb2wiLCJjb25uZWN0aW9uU3RyaW5nIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsImluaXRQcm9taXNlIiwiaW5pdERhdGFiYXNlIiwicGVyZm9ybUluaXQiLCJjYXRjaCIsImVyciIsImNsaWVudCIsImNvbm5lY3QiLCJxdWVyeSIsImNvbnNvbGUiLCJsb2ciLCJyZWxlYXNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/database.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/rate-limiter.ts":
/*!*********************************!*\
  !*** ./src/lib/rate-limiter.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkRateLimit: () => (/* binding */ checkRateLimit),\n/* harmony export */   getRemainingRequests: () => (/* binding */ getRemainingRequests)\n/* harmony export */ });\n// Simple in-memory rate limiter for 5 searches per IP\nconst rateLimitMap = new Map();\nconst RATE_LIMIT = 5;\nconst WINDOW_MS = 60 * 60 * 1000 // 1 hour\n;\nfunction checkRateLimit(ip) {\n    const now = Date.now();\n    const entry = rateLimitMap.get(ip);\n    // Clean up expired entries periodically\n    if (Math.random() < 0.01) {\n        for (const [key, value] of Array.from(rateLimitMap.entries())){\n            if (value.resetTime < now) {\n                rateLimitMap.delete(key);\n            }\n        }\n    }\n    if (!entry || entry.resetTime < now) {\n        // First request or window expired\n        const newEntry = {\n            count: 1,\n            resetTime: now + WINDOW_MS\n        };\n        rateLimitMap.set(ip, newEntry);\n        return {\n            allowed: true,\n            remaining: RATE_LIMIT - 1,\n            resetTime: newEntry.resetTime\n        };\n    }\n    if (entry.count >= RATE_LIMIT) {\n        return {\n            allowed: false,\n            remaining: 0,\n            resetTime: entry.resetTime\n        };\n    }\n    entry.count++;\n    return {\n        allowed: true,\n        remaining: RATE_LIMIT - entry.count,\n        resetTime: entry.resetTime\n    };\n}\nfunction getRemainingRequests(ip) {\n    const entry = rateLimitMap.get(ip);\n    if (!entry || entry.resetTime < Date.now()) {\n        return RATE_LIMIT;\n    }\n    return Math.max(0, RATE_LIMIT - entry.count);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3JhdGUtbGltaXRlci50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLHNEQUFzRDtBQU10RCxNQUFNQSxlQUFlLElBQUlDO0FBQ3pCLE1BQU1DLGFBQWE7QUFDbkIsTUFBTUMsWUFBWSxLQUFLLEtBQUssS0FBSyxTQUFTOztBQUVuQyxTQUFTQyxlQUFlQyxFQUFVO0lBQ3ZDLE1BQU1DLE1BQU1DLEtBQUtELEdBQUc7SUFDcEIsTUFBTUUsUUFBUVIsYUFBYVMsR0FBRyxDQUFDSjtJQUUvQix3Q0FBd0M7SUFDeEMsSUFBSUssS0FBS0MsTUFBTSxLQUFLLE1BQU07UUFDeEIsS0FBSyxNQUFNLENBQUNDLEtBQUtDLE1BQU0sSUFBSUMsTUFBTUMsSUFBSSxDQUFDZixhQUFhZ0IsT0FBTyxJQUFLO1lBQzdELElBQUlILE1BQU1JLFNBQVMsR0FBR1gsS0FBSztnQkFDekJOLGFBQWFrQixNQUFNLENBQUNOO1lBQ3RCO1FBQ0Y7SUFDRjtJQUVBLElBQUksQ0FBQ0osU0FBU0EsTUFBTVMsU0FBUyxHQUFHWCxLQUFLO1FBQ25DLGtDQUFrQztRQUNsQyxNQUFNYSxXQUFXO1lBQ2ZDLE9BQU87WUFDUEgsV0FBV1gsTUFBTUg7UUFDbkI7UUFDQUgsYUFBYXFCLEdBQUcsQ0FBQ2hCLElBQUljO1FBQ3JCLE9BQU87WUFDTEcsU0FBUztZQUNUQyxXQUFXckIsYUFBYTtZQUN4QmUsV0FBV0UsU0FBU0YsU0FBUztRQUMvQjtJQUNGO0lBRUEsSUFBSVQsTUFBTVksS0FBSyxJQUFJbEIsWUFBWTtRQUM3QixPQUFPO1lBQ0xvQixTQUFTO1lBQ1RDLFdBQVc7WUFDWE4sV0FBV1QsTUFBTVMsU0FBUztRQUM1QjtJQUNGO0lBRUFULE1BQU1ZLEtBQUs7SUFDWCxPQUFPO1FBQ0xFLFNBQVM7UUFDVEMsV0FBV3JCLGFBQWFNLE1BQU1ZLEtBQUs7UUFDbkNILFdBQVdULE1BQU1TLFNBQVM7SUFDNUI7QUFDRjtBQUVPLFNBQVNPLHFCQUFxQm5CLEVBQVU7SUFDN0MsTUFBTUcsUUFBUVIsYUFBYVMsR0FBRyxDQUFDSjtJQUMvQixJQUFJLENBQUNHLFNBQVNBLE1BQU1TLFNBQVMsR0FBR1YsS0FBS0QsR0FBRyxJQUFJO1FBQzFDLE9BQU9KO0lBQ1Q7SUFDQSxPQUFPUSxLQUFLZSxHQUFHLENBQUMsR0FBR3ZCLGFBQWFNLE1BQU1ZLEtBQUs7QUFDN0MiLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvc3JjL2xpYi9yYXRlLWxpbWl0ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2ltcGxlIGluLW1lbW9yeSByYXRlIGxpbWl0ZXIgZm9yIDUgc2VhcmNoZXMgcGVyIElQXG5pbnRlcmZhY2UgUmF0ZUxpbWl0RW50cnkge1xuICBjb3VudDogbnVtYmVyXG4gIHJlc2V0VGltZTogbnVtYmVyXG59XG5cbmNvbnN0IHJhdGVMaW1pdE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBSYXRlTGltaXRFbnRyeT4oKVxuY29uc3QgUkFURV9MSU1JVCA9IDVcbmNvbnN0IFdJTkRPV19NUyA9IDYwICogNjAgKiAxMDAwIC8vIDEgaG91clxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tSYXRlTGltaXQoaXA6IHN0cmluZyk6IHsgYWxsb3dlZDogYm9vbGVhbjsgcmVtYWluaW5nOiBudW1iZXI7IHJlc2V0VGltZTogbnVtYmVyIH0ge1xuICBjb25zdCBub3cgPSBEYXRlLm5vdygpXG4gIGNvbnN0IGVudHJ5ID0gcmF0ZUxpbWl0TWFwLmdldChpcClcbiAgXG4gIC8vIENsZWFuIHVwIGV4cGlyZWQgZW50cmllcyBwZXJpb2RpY2FsbHlcbiAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjAxKSB7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgQXJyYXkuZnJvbShyYXRlTGltaXRNYXAuZW50cmllcygpKSkge1xuICAgICAgaWYgKHZhbHVlLnJlc2V0VGltZSA8IG5vdykge1xuICAgICAgICByYXRlTGltaXRNYXAuZGVsZXRlKGtleSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIGlmICghZW50cnkgfHwgZW50cnkucmVzZXRUaW1lIDwgbm93KSB7XG4gICAgLy8gRmlyc3QgcmVxdWVzdCBvciB3aW5kb3cgZXhwaXJlZFxuICAgIGNvbnN0IG5ld0VudHJ5ID0ge1xuICAgICAgY291bnQ6IDEsXG4gICAgICByZXNldFRpbWU6IG5vdyArIFdJTkRPV19NU1xuICAgIH1cbiAgICByYXRlTGltaXRNYXAuc2V0KGlwLCBuZXdFbnRyeSlcbiAgICByZXR1cm4ge1xuICAgICAgYWxsb3dlZDogdHJ1ZSxcbiAgICAgIHJlbWFpbmluZzogUkFURV9MSU1JVCAtIDEsXG4gICAgICByZXNldFRpbWU6IG5ld0VudHJ5LnJlc2V0VGltZVxuICAgIH1cbiAgfVxuICBcbiAgaWYgKGVudHJ5LmNvdW50ID49IFJBVEVfTElNSVQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWxsb3dlZDogZmFsc2UsXG4gICAgICByZW1haW5pbmc6IDAsXG4gICAgICByZXNldFRpbWU6IGVudHJ5LnJlc2V0VGltZVxuICAgIH1cbiAgfVxuICBcbiAgZW50cnkuY291bnQrK1xuICByZXR1cm4ge1xuICAgIGFsbG93ZWQ6IHRydWUsXG4gICAgcmVtYWluaW5nOiBSQVRFX0xJTUlUIC0gZW50cnkuY291bnQsXG4gICAgcmVzZXRUaW1lOiBlbnRyeS5yZXNldFRpbWVcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVtYWluaW5nUmVxdWVzdHMoaXA6IHN0cmluZyk6IG51bWJlciB7XG4gIGNvbnN0IGVudHJ5ID0gcmF0ZUxpbWl0TWFwLmdldChpcClcbiAgaWYgKCFlbnRyeSB8fCBlbnRyeS5yZXNldFRpbWUgPCBEYXRlLm5vdygpKSB7XG4gICAgcmV0dXJuIFJBVEVfTElNSVRcbiAgfVxuICByZXR1cm4gTWF0aC5tYXgoMCwgUkFURV9MSU1JVCAtIGVudHJ5LmNvdW50KVxufSJdLCJuYW1lcyI6WyJyYXRlTGltaXRNYXAiLCJNYXAiLCJSQVRFX0xJTUlUIiwiV0lORE9XX01TIiwiY2hlY2tSYXRlTGltaXQiLCJpcCIsIm5vdyIsIkRhdGUiLCJlbnRyeSIsImdldCIsIk1hdGgiLCJyYW5kb20iLCJrZXkiLCJ2YWx1ZSIsIkFycmF5IiwiZnJvbSIsImVudHJpZXMiLCJyZXNldFRpbWUiLCJkZWxldGUiLCJuZXdFbnRyeSIsImNvdW50Iiwic2V0IiwiYWxsb3dlZCIsInJlbWFpbmluZyIsImdldFJlbWFpbmluZ1JlcXVlc3RzIiwibWF4Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/rate-limiter.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/valuation.ts":
/*!******************************!*\
  !*** ./src/lib/valuation.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_WEIGHTS: () => (/* binding */ DEFAULT_WEIGHTS),\n/* harmony export */   assessLegalRisk: () => (/* binding */ assessLegalRisk),\n/* harmony export */   calculatePriceEstimate: () => (/* binding */ calculatePriceEstimate),\n/* harmony export */   evaluateDomain: () => (/* binding */ evaluateDomain),\n/* harmony export */   mapScoreToPriceBracket: () => (/* binding */ mapScoreToPriceBracket),\n/* harmony export */   scoreComparableSales: () => (/* binding */ scoreComparableSales),\n/* harmony export */   scoreDomainAge: () => (/* binding */ scoreDomainAge),\n/* harmony export */   scoreDomainTraffic: () => (/* binding */ scoreDomainTraffic),\n/* harmony export */   scoreIndustryRelevance: () => (/* binding */ scoreIndustryRelevance),\n/* harmony export */   scoreKeywords: () => (/* binding */ scoreKeywords),\n/* harmony export */   scoreLengthAndSimplicity: () => (/* binding */ scoreLengthAndSimplicity),\n/* harmony export */   scoreLiquidity: () => (/* binding */ scoreLiquidity),\n/* harmony export */   scoreTLD: () => (/* binding */ scoreTLD)\n/* harmony export */ });\n/* harmony import */ var _data_industry_keywords__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/industry-keywords */ \"(rsc)/./src/data/industry-keywords.ts\");\n/* harmony import */ var _data_sample_comps__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/sample-comps */ \"(rsc)/./src/data/sample-comps.ts\");\n/* harmony import */ var _xai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./xai */ \"(rsc)/./src/lib/xai.ts\");\n// Core domain valuation algorithm implementing the 10-factor system\n\n\n\nconst DEFAULT_WEIGHTS = {\n    length: 0.12,\n    keywords: 0.20,\n    tld: 0.15,\n    brandability: 0.15,\n    industry: 0.10,\n    comps: 0.12,\n    age: 0.06,\n    traffic: 0.04,\n    liquidity: 0.06,\n    legal: 0.0 // Legal is a gating factor (multiplier), not weighted\n};\n// Legal brand list for trademark risk assessment\nconst LEGAL_BRANDS = [\n    'google',\n    'facebook',\n    'amazon',\n    'microsoft',\n    'apple',\n    'twitter',\n    'instagram',\n    'youtube',\n    'linkedin',\n    'netflix',\n    'tesla',\n    'uber',\n    'airbnb',\n    'spotify',\n    'paypal',\n    'visa',\n    'mastercard',\n    'coca-cola',\n    'pepsi',\n    'nike',\n    'adidas',\n    'samsung',\n    'sony',\n    'intel',\n    'oracle',\n    'salesforce',\n    'adobe',\n    'zoom',\n    'slack',\n    'dropbox',\n    'github',\n    'reddit',\n    'pinterest',\n    'snapchat',\n    'tiktok',\n    'whatsapp',\n    'telegram',\n    'discord',\n    'twitch',\n    'shopify',\n    'square',\n    'stripe'\n];\nfunction scoreLengthAndSimplicity(domain) {\n    // Extract domain name without TLD\n    const domainName = domain.toLowerCase().replace(/\\.(com|net|org|io|ai|co|app|xyz|info|biz|me|tv|cc|ly|gl|tech|online|store|blog|site|news|pro|club|agency|studio|digital|dev|design|marketing|services|solutions|group|ventures|holdings|capital|fund|invest|crypto|blockchain|finance|bank|pay|wallet|trade|exchange|market|shop|buy|sell|deal|sale|cart|travel|hotel|flight|trip|vacation|booking|resort|learn|education|course|study|school|training|food|restaurant|delivery|recipe|kitchen|real|estate|property|home|house|rent|game|gaming|play|entertainment|fun|business|work|career|job|hire|health|medical|care|wellness|fitness|doctor|therapy|clinic|tech|software|cloud|data|digital|smart|auto|bot|ai)$/, '');\n    const length = domainName.length;\n    const wordCount = domainName.split(/[-_]/).length;\n    const hasHyphen = domainName.includes('-');\n    const hasNumber = /\\d/.test(domainName);\n    const hasUnderscore = domainName.includes('_');\n    let score = 0;\n    // Base score based on length\n    if (length <= 6) {\n        score = 100;\n    } else if (length <= 10) {\n        score = 70;\n    } else if (length <= 15) {\n        score = 40;\n    } else {\n        score = 20;\n    }\n    // Penalties\n    if (hasHyphen) score -= 20;\n    if (hasNumber) score -= 10;\n    if (hasUnderscore) score -= 15;\n    if (wordCount > 3) score -= 10;\n    return Math.max(0, score);\n}\nfunction scoreKeywords(domain) {\n    const result = (0,_data_industry_keywords__WEBPACK_IMPORTED_MODULE_0__.findKeywordValue)(domain);\n    return {\n        score: result.score,\n        industry: result.industry,\n        keywords: result.matchedKeywords\n    };\n}\nfunction scoreTLD(domain, targetCountry) {\n    const tld = domain.toLowerCase().split('.').pop() || '';\n    switch(tld){\n        case 'com':\n            return 100;\n        case 'net':\n        case 'org':\n            return 70;\n        case 'io':\n        case 'ai':\n            return 65;\n        case 'co':\n        case 'me':\n            return 60;\n        case 'app':\n        case 'tech':\n        case 'dev':\n            return 55;\n        case 'xyz':\n        case 'info':\n        case 'biz':\n            return 45;\n        default:\n            // Country code TLDs - boost if matches target country\n            if (tld.length === 2) {\n                return targetCountry && targetCountry.toLowerCase() === tld ? 75 : 50;\n            }\n            return 40;\n    }\n}\nfunction scoreIndustryRelevance(industry, keywords) {\n    const highValueIndustries = [\n        'finance',\n        'technology',\n        'health',\n        'ecommerce',\n        'travel'\n    ];\n    const mediumValueIndustries = [\n        'education',\n        'realestate',\n        'business',\n        'gaming'\n    ];\n    let baseScore = 30;\n    if (highValueIndustries.includes(industry)) {\n        baseScore = 85;\n    } else if (mediumValueIndustries.includes(industry)) {\n        baseScore = 60;\n    } else if (industry !== 'generic') {\n        baseScore = 45;\n    }\n    // Bonus for multiple relevant keywords\n    if (keywords.length >= 2) {\n        baseScore = Math.min(100, baseScore + 10);\n    }\n    return baseScore;\n}\nfunction scoreComparableSales(domain, comps = []) {\n    if (!comps || comps.length === 0) {\n        return 50;\n    }\n    // Calculate average similarity score from comparables\n    const avgSimilarity = comps.reduce((sum, comp)=>sum + (comp.similarity || 0), 0) / comps.length;\n    // Convert similarity to score (0-100 scale)\n    // High similarity (80+) = good comps data = high score (80-90)\n    // Medium similarity (50-80) = decent comps = medium score (60-80)  \n    // Low similarity (20-50) = weak comps = lower score (40-60)\n    if (avgSimilarity >= 80) {\n        return 85;\n    } else if (avgSimilarity >= 60) {\n        return 75;\n    } else if (avgSimilarity >= 40) {\n        return 65;\n    } else if (avgSimilarity >= 20) {\n        return 55;\n    } else {\n        return 50;\n    }\n}\nasync function scoreDomainAge(domain, providedAgeInYears) {\n    // If age is already provided, use it\n    if (providedAgeInYears) {\n        return {\n            score: calculateAgeScore(providedAgeInYears),\n            dataSource: 'user_provided'\n        };\n    }\n    // Try to fetch real domain age from WHOIS API\n    try {\n        const ageInYears = await fetchDomainAge(domain);\n        if (ageInYears !== null) {\n            return {\n                score: calculateAgeScore(ageInYears),\n                dataSource: 'ip2whois_api',\n                error: undefined\n            };\n        }\n    } catch (error) {\n        console.warn('Failed to fetch domain age:', error);\n        return {\n            score: 25,\n            dataSource: 'fallback',\n            error: error instanceof Error ? error.message : 'Unknown error fetching domain age'\n        };\n    }\n    // Fallback to neutral score if unable to determine age\n    return {\n        score: 25,\n        dataSource: 'fallback',\n        error: 'No age data available'\n    };\n}\nfunction calculateAgeScore(ageInYears) {\n    if (ageInYears >= 15) {\n        return 95;\n    } else if (ageInYears >= 10) {\n        return 90;\n    } else if (ageInYears >= 5) {\n        return 70;\n    } else if (ageInYears >= 2) {\n        return 50;\n    } else {\n        return 25;\n    }\n}\nasync function fetchDomainAge(domain) {\n    // Check if API key is configured\n    const apiKey = process.env.IP2WHOIS_API_KEY;\n    if (!apiKey || apiKey.includes('your_') || apiKey.trim() === '') {\n        throw new Error('IP2WHOIS API key not configured - using fallback data');\n    }\n    // IP2WHOIS API implementation (free tier available)\n    const API_URL = 'https://api.ip2whois.com/v2';\n    try {\n        const response = await fetch(`${API_URL}?key=${apiKey}&domain=${domain}`);\n        if (!response.ok) {\n            if (response.status === 401) {\n                throw new Error(`Invalid IP2WHOIS API key - check your credentials`);\n            }\n            throw new Error(`WHOIS API error: ${response.status}`);\n        }\n        const data = await response.json();\n        if (data.create_date) {\n            const creationDate = new Date(data.create_date);\n            const now = new Date();\n            const ageInYears = (now.getTime() - creationDate.getTime()) / (1000 * 60 * 60 * 24 * 365.25);\n            return Math.floor(ageInYears * 10) / 10 // Round to 1 decimal place\n            ;\n        }\n        return null;\n    } catch (error) {\n        console.warn('Error fetching domain age:', error);\n        throw error // Re-throw so caller can handle appropriately\n        ;\n    }\n}\nasync function scoreDomainTraffic(domain, providedMonthlyTraffic) {\n    // If traffic data is already provided, use it\n    if (providedMonthlyTraffic && providedMonthlyTraffic > 0) {\n        return {\n            score: calculateTrafficScore(providedMonthlyTraffic),\n            dataSource: 'user_provided'\n        };\n    }\n    // Try to fetch real traffic data from SimilarWeb API\n    try {\n        const monthlyTraffic = await fetchDomainTraffic(domain);\n        if (monthlyTraffic !== null) {\n            return {\n                score: calculateTrafficScore(monthlyTraffic),\n                dataSource: 'similarweb_api'\n            };\n        }\n    } catch (error) {\n        console.warn('Failed to fetch domain traffic:', error);\n        return {\n            score: 20,\n            dataSource: 'fallback',\n            error: error instanceof Error ? error.message : 'Unknown error fetching traffic data'\n        };\n    }\n    // Fallback to low score if unable to determine traffic\n    return {\n        score: 20,\n        dataSource: 'fallback',\n        error: 'No traffic data available'\n    };\n}\nfunction calculateTrafficScore(monthlyTraffic) {\n    if (monthlyTraffic >= 1000000) {\n        return 95;\n    } else if (monthlyTraffic >= 100000) {\n        return 90;\n    } else if (monthlyTraffic >= 10000) {\n        return 70;\n    } else if (monthlyTraffic >= 1000) {\n        return 50;\n    } else if (monthlyTraffic >= 100) {\n        return 30;\n    } else {\n        return 20;\n    }\n}\nasync function fetchDomainTraffic(domain) {\n    // Check if API key is configured\n    const apiKey = process.env.SIMILARWEB_API_KEY;\n    if (!apiKey || apiKey.includes('your_') || apiKey.trim() === '') {\n        throw new Error('SimilarWeb API key not configured - using fallback data');\n    }\n    // SimilarWeb API implementation with correct authentication\n    const API_BASE_URL = 'https://api.similarweb.com/v1/website';\n    try {\n        const currentDate = new Date();\n        const endDate = new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1);\n        const startDate = new Date(currentDate.getFullYear(), currentDate.getMonth() - 2, 1);\n        const url = `${API_BASE_URL}/${domain}/total-traffic-and-engagement/visits`;\n        const params = new URLSearchParams({\n            start_date: startDate.toISOString().slice(0, 7),\n            end_date: endDate.toISOString().slice(0, 7),\n            country: 'world',\n            granularity: 'monthly',\n            main_domain_only: 'true',\n            format: 'json',\n            api_key: apiKey // SimilarWeb API key as query parameter\n        });\n        const response = await fetch(`${url}?${params}`, {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        if (!response.ok) {\n            if (response.status === 401) {\n                throw new Error(`Invalid SimilarWeb API key - check your credentials`);\n            }\n            throw new Error(`SimilarWeb API error: ${response.status}`);\n        }\n        const data = await response.json();\n        if (data.visits && Array.isArray(data.visits) && data.visits.length > 0) {\n            // Get the most recent month's data\n            const latestVisits = data.visits[data.visits.length - 1].visits;\n            return Math.round(latestVisits);\n        }\n        return null;\n    } catch (error) {\n        console.warn('Error fetching domain traffic:', error);\n        throw error // Re-throw so caller can handle appropriately\n        ;\n    }\n}\nfunction scoreLiquidity(domain) {\n    const domainName = domain.toLowerCase().replace(/\\.(com|net|org|io|ai|co|app|xyz|info|biz)$/, '');\n    const tld = domain.toLowerCase().split('.').pop() || '';\n    const length = domainName.length;\n    // Very high liquidity patterns\n    if (tld === 'com') {\n        if (length <= 3 && /^[a-z]+$/.test(domainName)) {\n            return 100 // LLL.com, LL.com\n            ;\n        }\n        if (length <= 6 && /^[a-z]+$/.test(domainName) && !domainName.includes('-')) {\n            return 90 // Short dictionary words\n            ;\n        }\n    }\n    // High liquidity\n    if (tld === 'com' && length <= 8 && !domainName.includes('-') && !domainName.includes('_')) {\n        return 80;\n    }\n    // Medium liquidity\n    if ((tld === 'com' || tld === 'net' || tld === 'org') && length <= 12) {\n        return 60;\n    }\n    // Lower liquidity for newer TLDs or longer domains\n    if (length <= 10) {\n        return 45;\n    }\n    return 25;\n}\nasync function assessLegalRisk(domain) {\n    const domainName = domain.toLowerCase().replace(/\\.(com|net|org|io|ai|co|app|xyz|info|biz)$/, '');\n    // Try to check real trademark database first\n    try {\n        const trademarkResult = await checkTrademarkConflicts(domainName);\n        if (trademarkResult.hasConflict) {\n            return {\n                flag: trademarkResult.severity,\n                multiplier: trademarkResult.severity === 'severe' ? 0 : trademarkResult.severity === 'warning' ? 0.5 : 1.0,\n                score: trademarkResult.severity === 'severe' ? 0 : trademarkResult.severity === 'warning' ? 25 : 100\n            };\n        }\n    } catch (error) {\n        console.warn('Failed to check trademark database:', error);\n    }\n    // Fallback to static brand checking\n    return assessStaticLegalRisk(domainName);\n}\nasync function checkTrademarkConflicts(term) {\n    // Check if API credentials are configured\n    const username = process.env.MARKER_API_USERNAME;\n    const password = process.env.MARKER_API_PASSWORD;\n    if (!username || !password || username.includes('your_') || password.includes('your_') || username.trim() === '' || password.trim() === '') {\n        throw new Error('Marker API credentials not configured - using fallback data');\n    }\n    // Marker API implementation (correct URL structure)\n    const MARKER_API_URL = 'https://markerapi.com/api/v2/trademarks';\n    try {\n        // Search active trademarks - correct API endpoint format\n        const searchUrl = `${MARKER_API_URL}/trademark/${encodeURIComponent(term)}/status/active/start/0/username/${username}/password/${password}`;\n        const response = await fetch(searchUrl, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        if (!response.ok) {\n            if (response.status === 401) {\n                throw new Error('Invalid Marker API credentials - check your username/password');\n            }\n            throw new Error(`Trademark API error: ${response.status}`);\n        }\n        const data = await response.json();\n        if (data.results && Array.isArray(data.results) && data.results.length > 0) {\n            // Check for exact or very close matches\n            const exactMatches = data.results.filter((tm)=>tm.mark && tm.mark.toLowerCase().replace(/[^a-z0-9]/g, '') === term.toLowerCase().replace(/[^a-z0-9]/g, ''));\n            if (exactMatches.length > 0) {\n                return {\n                    hasConflict: true,\n                    severity: 'severe'\n                };\n            }\n            // Check for similar matches\n            const similarMatches = data.results.filter((tm)=>tm.mark && (tm.mark.toLowerCase().includes(term.toLowerCase()) || term.toLowerCase().includes(tm.mark.toLowerCase())));\n            if (similarMatches.length > 0) {\n                return {\n                    hasConflict: true,\n                    severity: 'warning'\n                };\n            }\n        }\n        return {\n            hasConflict: false,\n            severity: 'clear'\n        };\n    } catch (error) {\n        console.warn('Error checking trademarks:', error);\n        throw error // Re-throw so caller can handle appropriately\n        ;\n    }\n}\nfunction assessStaticLegalRisk(domainName) {\n    // Enhanced static brand list (keeping as fallback)\n    const ENHANCED_LEGAL_BRANDS = [\n        ...LEGAL_BRANDS,\n        'chatgpt',\n        'openai',\n        'anthropic',\n        'claude',\n        'midjourney',\n        'stability',\n        'binance',\n        'coinbase',\n        'kraken',\n        'ftx',\n        'ethereum',\n        'polygon',\n        'shopify',\n        'etsy',\n        'walmart',\n        'target',\n        'bestbuy',\n        'macys',\n        'booking',\n        'expedia',\n        'marriott',\n        'hilton',\n        'hyatt',\n        'airbnb'\n    ];\n    // Check for exact matches\n    for (const brand of ENHANCED_LEGAL_BRANDS){\n        if (domainName === brand || domainName === brand + 's' || domainName === brand + 'app' || domainName === brand + 'api' || domainName === brand + 'pro') {\n            return {\n                flag: 'severe',\n                multiplier: 0,\n                score: 0\n            };\n        }\n    }\n    // Check for substring matches\n    for (const brand of ENHANCED_LEGAL_BRANDS){\n        if (domainName.includes(brand) && brand.length >= 4) {\n            return {\n                flag: 'warning',\n                multiplier: 0.5,\n                score: 25\n            };\n        }\n    }\n    return {\n        flag: 'clear',\n        multiplier: 1.0,\n        score: 100\n    };\n}\nfunction mapScoreToPriceBracket(score) {\n    if (score >= 80) {\n        return {\n            min: 100000,\n            max: 5000000,\n            bracket: '80-100'\n        };\n    } else if (score >= 60) {\n        return {\n            min: 10000,\n            max: 100000,\n            bracket: '60-80'\n        };\n    } else if (score >= 40) {\n        return {\n            min: 1500,\n            max: 10000,\n            bracket: '40-60'\n        };\n    } else if (score >= 20) {\n        return {\n            min: 500,\n            max: 1500,\n            bracket: '20-40'\n        };\n    } else {\n        return {\n            min: 50,\n            max: 500,\n            bracket: '0-20'\n        };\n    }\n}\nfunction calculatePriceEstimate(finalScore, compsMedian) {\n    const bracket = mapScoreToPriceBracket(finalScore);\n    const bracketMidpoint = (bracket.min + bracket.max) / 2;\n    let investorPrice = bracket.min;\n    let retailPrice = bracketMidpoint;\n    if (compsMedian && compsMedian > 0) {\n        // Blend comps median with bracket midpoint (60/40 favoring comps)\n        retailPrice = Math.round(0.6 * compsMedian + 0.4 * bracketMidpoint);\n        investorPrice = Math.round(retailPrice * 0.6); // Investor price is typically 40% less\n    }\n    const explanation = compsMedian ? `Price estimate based on ${finalScore.toFixed(1)}/100 score and comparable sales data.` : `Price estimate based on ${finalScore.toFixed(1)}/100 algorithmic score. Add comparable sales data for more accurate pricing.`;\n    return {\n        investor: `$${investorPrice.toLocaleString()}`,\n        retail: `$${retailPrice.toLocaleString()}`,\n        explanation\n    };\n}\nasync function evaluateDomain(domain, options = {}, weights = DEFAULT_WEIGHTS) {\n    // Score each factor\n    const lengthScore = scoreLengthAndSimplicity(domain);\n    const keywordResult = scoreKeywords(domain);\n    const tldScore = scoreTLD(domain, options.country);\n    const industryScore = scoreIndustryRelevance(keywordResult.industry, keywordResult.keywords);\n    // Load comparable sales\n    const comparables = await (0,_data_sample_comps__WEBPACK_IMPORTED_MODULE_1__.findComparables)(domain, 5);\n    const compsScore = scoreComparableSales(domain, comparables);\n    const ageResult = await scoreDomainAge(domain, options.domainAge);\n    const trafficResult = await scoreDomainTraffic(domain, options.userTraffic);\n    const liquidityScore = scoreLiquidity(domain);\n    // Get AI brandability score\n    const brandabilityResult = await (0,_xai__WEBPACK_IMPORTED_MODULE_2__.analyzeBrandability)(domain);\n    // Assess legal risk\n    const legalRisk = await assessLegalRisk(domain);\n    // Calculate weighted score\n    const breakdown = [\n        {\n            factor: 'length',\n            score: lengthScore,\n            weight: weights.length,\n            contribution: weights.length * lengthScore\n        },\n        {\n            factor: 'keywords',\n            score: keywordResult.score,\n            weight: weights.keywords,\n            contribution: weights.keywords * keywordResult.score\n        },\n        {\n            factor: 'tld',\n            score: tldScore,\n            weight: weights.tld,\n            contribution: weights.tld * tldScore\n        },\n        {\n            factor: 'brandability',\n            score: brandabilityResult.score,\n            weight: weights.brandability,\n            contribution: weights.brandability * brandabilityResult.score\n        },\n        {\n            factor: 'industry',\n            score: industryScore,\n            weight: weights.industry,\n            contribution: weights.industry * industryScore\n        },\n        {\n            factor: 'comps',\n            score: compsScore,\n            weight: weights.comps,\n            contribution: weights.comps * compsScore\n        },\n        {\n            factor: 'age',\n            score: ageResult.score,\n            weight: weights.age,\n            contribution: weights.age * ageResult.score\n        },\n        {\n            factor: 'traffic',\n            score: trafficResult.score,\n            weight: weights.traffic,\n            contribution: weights.traffic * trafficResult.score\n        },\n        {\n            factor: 'liquidity',\n            score: liquidityScore,\n            weight: weights.liquidity,\n            contribution: weights.liquidity * liquidityScore\n        },\n        {\n            factor: 'legal',\n            score: legalRisk.score,\n            weight: 0,\n            contribution: 0,\n            description: `${legalRisk.flag.toUpperCase()}: Acts as ${legalRisk.multiplier}x multiplier`\n        }\n    ];\n    const rawScore = breakdown.reduce((sum, factor)=>sum + factor.contribution, 0);\n    const finalScore = rawScore * legalRisk.multiplier;\n    // Calculate price estimate with comps median\n    const sortedComparables = [\n        ...comparables\n    ].sort((a, b)=>a.soldPrice - b.soldPrice);\n    const compsMedian = comparables.length > 0 ? sortedComparables[Math.floor(sortedComparables.length / 2)].soldPrice : undefined;\n    const priceEstimate = calculatePriceEstimate(finalScore, compsMedian);\n    const bracket = mapScoreToPriceBracket(finalScore);\n    return {\n        domain,\n        finalScore,\n        bracket: bracket.bracket,\n        priceEstimate,\n        breakdown,\n        legalFlag: legalRisk.flag,\n        aiComment: brandabilityResult.commentary,\n        comps: comparables\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFjbEksS0FBSztRQUFDO1FBQzlIO1lBQUV3SSxRQUFRO1lBQWF4SSxPQUFPb0k7WUFBZ0JLLFFBQVFoQixRQUFReEksU0FBUztZQUFFeUosY0FBY2pCLFFBQVF4SSxTQUFTLEdBQUdtSjtRQUFlO1FBQzFIO1lBQUVJLFFBQVE7WUFBU3hJLE9BQU9zSSxVQUFVdEksS0FBSztZQUFFeUksUUFBUTtZQUFHQyxjQUFjO1lBQUdDLGFBQWEsR0FBR0wsVUFBVWpELElBQUksQ0FBQ3VELFdBQVcsR0FBRyxVQUFVLEVBQUVOLFVBQVUvQyxVQUFVLENBQUMsWUFBWSxDQUFDO1FBQUM7S0FDcEs7SUFFRCxNQUFNc0QsV0FBV04sVUFBVXZILE1BQU0sQ0FBQyxDQUFDQyxLQUFLdUgsU0FBV3ZILE1BQU11SCxPQUFPRSxZQUFZLEVBQUU7SUFDOUUsTUFBTTdCLGFBQWFnQyxXQUFXUCxVQUFVL0MsVUFBVTtJQUVsRCw2Q0FBNkM7SUFDN0MsTUFBTXVELG9CQUFvQjtXQUFJaEI7S0FBWSxDQUFDaUIsSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1ELEVBQUVFLFNBQVMsR0FBR0QsRUFBRUMsU0FBUztJQUNuRixNQUFNcEMsY0FBY2dCLFlBQVlySixNQUFNLEdBQUcsSUFDckNxSyxpQkFBaUIsQ0FBQzdJLEtBQUtnRCxLQUFLLENBQUM2RixrQkFBa0JySyxNQUFNLEdBQUcsR0FBRyxDQUFDeUssU0FBUyxHQUNyRXZIO0lBRUosTUFBTXdILGdCQUFnQnZDLHVCQUF1QkMsWUFBWUM7SUFDekQsTUFBTUgsVUFBVUQsdUJBQXVCRztJQUV2QyxPQUFPO1FBQ0x4SDtRQUNBd0g7UUFDQUYsU0FBU0EsUUFBUUEsT0FBTztRQUN4QndDO1FBQ0FaO1FBQ0FhLFdBQVdkLFVBQVVqRCxJQUFJO1FBQ3pCZ0UsV0FBV2hCLG1CQUFtQmlCLFVBQVU7UUFDeEN4SyxPQUFPZ0o7SUFDVDtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL3NyYy9saWIvdmFsdWF0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcmUgZG9tYWluIHZhbHVhdGlvbiBhbGdvcml0aG0gaW1wbGVtZW50aW5nIHRoZSAxMC1mYWN0b3Igc3lzdGVtXG5pbXBvcnQgdHlwZSB7IFZhbHVhdGlvbkZhY3RvcnMsIEZhY3RvcldlaWdodHMsIEZhY3RvckJyZWFrZG93biwgRG9tYWluQXBwcmFpc2FsIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyBmaW5kS2V5d29yZFZhbHVlIH0gZnJvbSAnLi4vZGF0YS9pbmR1c3RyeS1rZXl3b3JkcydcbmltcG9ydCB7IGZpbmRDb21wYXJhYmxlcyB9IGZyb20gJy4uL2RhdGEvc2FtcGxlLWNvbXBzJ1xuaW1wb3J0IHsgYW5hbHl6ZUJyYW5kYWJpbGl0eSB9IGZyb20gJy4veGFpJ1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9XRUlHSFRTOiBGYWN0b3JXZWlnaHRzID0ge1xuICBsZW5ndGg6IDAuMTIsXG4gIGtleXdvcmRzOiAwLjIwLFxuICB0bGQ6IDAuMTUsXG4gIGJyYW5kYWJpbGl0eTogMC4xNSxcbiAgaW5kdXN0cnk6IDAuMTAsXG4gIGNvbXBzOiAwLjEyLFxuICBhZ2U6IDAuMDYsXG4gIHRyYWZmaWM6IDAuMDQsXG4gIGxpcXVpZGl0eTogMC4wNixcbiAgbGVnYWw6IDAuMCAvLyBMZWdhbCBpcyBhIGdhdGluZyBmYWN0b3IgKG11bHRpcGxpZXIpLCBub3Qgd2VpZ2h0ZWRcbn1cblxuLy8gTGVnYWwgYnJhbmQgbGlzdCBmb3IgdHJhZGVtYXJrIHJpc2sgYXNzZXNzbWVudFxuY29uc3QgTEVHQUxfQlJBTkRTID0gW1xuICAnZ29vZ2xlJywgJ2ZhY2Vib29rJywgJ2FtYXpvbicsICdtaWNyb3NvZnQnLCAnYXBwbGUnLCAndHdpdHRlcicsICdpbnN0YWdyYW0nLCBcbiAgJ3lvdXR1YmUnLCAnbGlua2VkaW4nLCAnbmV0ZmxpeCcsICd0ZXNsYScsICd1YmVyJywgJ2FpcmJuYicsICdzcG90aWZ5JywgXG4gICdwYXlwYWwnLCAndmlzYScsICdtYXN0ZXJjYXJkJywgJ2NvY2EtY29sYScsICdwZXBzaScsICduaWtlJywgJ2FkaWRhcycsIFxuICAnc2Ftc3VuZycsICdzb255JywgJ2ludGVsJywgJ29yYWNsZScsICdzYWxlc2ZvcmNlJywgJ2Fkb2JlJywgJ3pvb20nLCBcbiAgJ3NsYWNrJywgJ2Ryb3Bib3gnLCAnZ2l0aHViJywgJ3JlZGRpdCcsICdwaW50ZXJlc3QnLCAnc25hcGNoYXQnLCAndGlrdG9rJywgXG4gICd3aGF0c2FwcCcsICd0ZWxlZ3JhbScsICdkaXNjb3JkJywgJ3R3aXRjaCcsICdzaG9waWZ5JywgJ3NxdWFyZScsICdzdHJpcGUnXG5dXG5cbmV4cG9ydCBmdW5jdGlvbiBzY29yZUxlbmd0aEFuZFNpbXBsaWNpdHkoZG9tYWluOiBzdHJpbmcpOiBudW1iZXIge1xuICAvLyBFeHRyYWN0IGRvbWFpbiBuYW1lIHdpdGhvdXQgVExEXG4gIGNvbnN0IGRvbWFpbk5hbWUgPSBkb21haW4udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXC4oY29tfG5ldHxvcmd8aW98YWl8Y298YXBwfHh5enxpbmZvfGJpenxtZXx0dnxjY3xseXxnbHx0ZWNofG9ubGluZXxzdG9yZXxibG9nfHNpdGV8bmV3c3xwcm98Y2x1YnxhZ2VuY3l8c3R1ZGlvfGRpZ2l0YWx8ZGV2fGRlc2lnbnxtYXJrZXRpbmd8c2VydmljZXN8c29sdXRpb25zfGdyb3VwfHZlbnR1cmVzfGhvbGRpbmdzfGNhcGl0YWx8ZnVuZHxpbnZlc3R8Y3J5cHRvfGJsb2NrY2hhaW58ZmluYW5jZXxiYW5rfHBheXx3YWxsZXR8dHJhZGV8ZXhjaGFuZ2V8bWFya2V0fHNob3B8YnV5fHNlbGx8ZGVhbHxzYWxlfGNhcnR8dHJhdmVsfGhvdGVsfGZsaWdodHx0cmlwfHZhY2F0aW9ufGJvb2tpbmd8cmVzb3J0fGxlYXJufGVkdWNhdGlvbnxjb3Vyc2V8c3R1ZHl8c2Nob29sfHRyYWluaW5nfGZvb2R8cmVzdGF1cmFudHxkZWxpdmVyeXxyZWNpcGV8a2l0Y2hlbnxyZWFsfGVzdGF0ZXxwcm9wZXJ0eXxob21lfGhvdXNlfHJlbnR8Z2FtZXxnYW1pbmd8cGxheXxlbnRlcnRhaW5tZW50fGZ1bnxidXNpbmVzc3x3b3JrfGNhcmVlcnxqb2J8aGlyZXxoZWFsdGh8bWVkaWNhbHxjYXJlfHdlbGxuZXNzfGZpdG5lc3N8ZG9jdG9yfHRoZXJhcHl8Y2xpbmljfHRlY2h8c29mdHdhcmV8Y2xvdWR8ZGF0YXxkaWdpdGFsfHNtYXJ0fGF1dG98Ym90fGFpKSQvLCAnJylcbiAgXG4gIGNvbnN0IGxlbmd0aCA9IGRvbWFpbk5hbWUubGVuZ3RoXG4gIGNvbnN0IHdvcmRDb3VudCA9IGRvbWFpbk5hbWUuc3BsaXQoL1stX10vKS5sZW5ndGhcbiAgY29uc3QgaGFzSHlwaGVuID0gZG9tYWluTmFtZS5pbmNsdWRlcygnLScpXG4gIGNvbnN0IGhhc051bWJlciA9IC9cXGQvLnRlc3QoZG9tYWluTmFtZSlcbiAgY29uc3QgaGFzVW5kZXJzY29yZSA9IGRvbWFpbk5hbWUuaW5jbHVkZXMoJ18nKVxuICBcbiAgbGV0IHNjb3JlID0gMFxuICBcbiAgLy8gQmFzZSBzY29yZSBiYXNlZCBvbiBsZW5ndGhcbiAgaWYgKGxlbmd0aCA8PSA2KSB7XG4gICAgc2NvcmUgPSAxMDBcbiAgfSBlbHNlIGlmIChsZW5ndGggPD0gMTApIHtcbiAgICBzY29yZSA9IDcwXG4gIH0gZWxzZSBpZiAobGVuZ3RoIDw9IDE1KSB7XG4gICAgc2NvcmUgPSA0MFxuICB9IGVsc2Uge1xuICAgIHNjb3JlID0gMjBcbiAgfVxuICBcbiAgLy8gUGVuYWx0aWVzXG4gIGlmIChoYXNIeXBoZW4pIHNjb3JlIC09IDIwXG4gIGlmIChoYXNOdW1iZXIpIHNjb3JlIC09IDEwXG4gIGlmIChoYXNVbmRlcnNjb3JlKSBzY29yZSAtPSAxNVxuICBpZiAod29yZENvdW50ID4gMykgc2NvcmUgLT0gMTBcbiAgXG4gIHJldHVybiBNYXRoLm1heCgwLCBzY29yZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjb3JlS2V5d29yZHMoZG9tYWluOiBzdHJpbmcpOiB7IHNjb3JlOiBudW1iZXI7IGluZHVzdHJ5OiBzdHJpbmc7IGtleXdvcmRzOiBzdHJpbmdbXSB9IHtcbiAgY29uc3QgcmVzdWx0ID0gZmluZEtleXdvcmRWYWx1ZShkb21haW4pXG4gIHJldHVybiB7XG4gICAgc2NvcmU6IHJlc3VsdC5zY29yZSxcbiAgICBpbmR1c3RyeTogcmVzdWx0LmluZHVzdHJ5LFxuICAgIGtleXdvcmRzOiByZXN1bHQubWF0Y2hlZEtleXdvcmRzXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjb3JlVExEKGRvbWFpbjogc3RyaW5nLCB0YXJnZXRDb3VudHJ5Pzogc3RyaW5nKTogbnVtYmVyIHtcbiAgY29uc3QgdGxkID0gZG9tYWluLnRvTG93ZXJDYXNlKCkuc3BsaXQoJy4nKS5wb3AoKSB8fCAnJ1xuICBcbiAgc3dpdGNoICh0bGQpIHtcbiAgICBjYXNlICdjb20nOlxuICAgICAgcmV0dXJuIDEwMFxuICAgIGNhc2UgJ25ldCc6XG4gICAgY2FzZSAnb3JnJzpcbiAgICAgIHJldHVybiA3MFxuICAgIGNhc2UgJ2lvJzpcbiAgICBjYXNlICdhaSc6XG4gICAgICByZXR1cm4gNjVcbiAgICBjYXNlICdjbyc6XG4gICAgY2FzZSAnbWUnOlxuICAgICAgcmV0dXJuIDYwXG4gICAgY2FzZSAnYXBwJzpcbiAgICBjYXNlICd0ZWNoJzpcbiAgICBjYXNlICdkZXYnOlxuICAgICAgcmV0dXJuIDU1XG4gICAgY2FzZSAneHl6JzpcbiAgICBjYXNlICdpbmZvJzpcbiAgICBjYXNlICdiaXonOlxuICAgICAgcmV0dXJuIDQ1XG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIENvdW50cnkgY29kZSBUTERzIC0gYm9vc3QgaWYgbWF0Y2hlcyB0YXJnZXQgY291bnRyeVxuICAgICAgaWYgKHRsZC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldENvdW50cnkgJiYgdGFyZ2V0Q291bnRyeS50b0xvd2VyQ2FzZSgpID09PSB0bGQgPyA3NSA6IDUwXG4gICAgICB9XG4gICAgICByZXR1cm4gNDBcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2NvcmVJbmR1c3RyeVJlbGV2YW5jZShpbmR1c3RyeTogc3RyaW5nLCBrZXl3b3Jkczogc3RyaW5nW10pOiBudW1iZXIge1xuICBjb25zdCBoaWdoVmFsdWVJbmR1c3RyaWVzID0gWydmaW5hbmNlJywgJ3RlY2hub2xvZ3knLCAnaGVhbHRoJywgJ2Vjb21tZXJjZScsICd0cmF2ZWwnXVxuICBjb25zdCBtZWRpdW1WYWx1ZUluZHVzdHJpZXMgPSBbJ2VkdWNhdGlvbicsICdyZWFsZXN0YXRlJywgJ2J1c2luZXNzJywgJ2dhbWluZyddXG4gIFxuICBsZXQgYmFzZVNjb3JlID0gMzBcbiAgXG4gIGlmIChoaWdoVmFsdWVJbmR1c3RyaWVzLmluY2x1ZGVzKGluZHVzdHJ5KSkge1xuICAgIGJhc2VTY29yZSA9IDg1XG4gIH0gZWxzZSBpZiAobWVkaXVtVmFsdWVJbmR1c3RyaWVzLmluY2x1ZGVzKGluZHVzdHJ5KSkge1xuICAgIGJhc2VTY29yZSA9IDYwXG4gIH0gZWxzZSBpZiAoaW5kdXN0cnkgIT09ICdnZW5lcmljJykge1xuICAgIGJhc2VTY29yZSA9IDQ1XG4gIH1cbiAgXG4gIC8vIEJvbnVzIGZvciBtdWx0aXBsZSByZWxldmFudCBrZXl3b3Jkc1xuICBpZiAoa2V5d29yZHMubGVuZ3RoID49IDIpIHtcbiAgICBiYXNlU2NvcmUgPSBNYXRoLm1pbigxMDAsIGJhc2VTY29yZSArIDEwKVxuICB9XG4gIFxuICByZXR1cm4gYmFzZVNjb3JlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzY29yZUNvbXBhcmFibGVTYWxlcyhkb21haW46IHN0cmluZywgY29tcHM6IGFueVtdID0gW10pOiBudW1iZXIge1xuICBpZiAoIWNvbXBzIHx8IGNvbXBzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiA1MFxuICB9XG4gIFxuICAvLyBDYWxjdWxhdGUgYXZlcmFnZSBzaW1pbGFyaXR5IHNjb3JlIGZyb20gY29tcGFyYWJsZXNcbiAgY29uc3QgYXZnU2ltaWxhcml0eSA9IGNvbXBzLnJlZHVjZSgoc3VtLCBjb21wKSA9PiBzdW0gKyAoY29tcC5zaW1pbGFyaXR5IHx8IDApLCAwKSAvIGNvbXBzLmxlbmd0aFxuICBcbiAgLy8gQ29udmVydCBzaW1pbGFyaXR5IHRvIHNjb3JlICgwLTEwMCBzY2FsZSlcbiAgLy8gSGlnaCBzaW1pbGFyaXR5ICg4MCspID0gZ29vZCBjb21wcyBkYXRhID0gaGlnaCBzY29yZSAoODAtOTApXG4gIC8vIE1lZGl1bSBzaW1pbGFyaXR5ICg1MC04MCkgPSBkZWNlbnQgY29tcHMgPSBtZWRpdW0gc2NvcmUgKDYwLTgwKSAgXG4gIC8vIExvdyBzaW1pbGFyaXR5ICgyMC01MCkgPSB3ZWFrIGNvbXBzID0gbG93ZXIgc2NvcmUgKDQwLTYwKVxuICBcbiAgaWYgKGF2Z1NpbWlsYXJpdHkgPj0gODApIHtcbiAgICByZXR1cm4gODVcbiAgfSBlbHNlIGlmIChhdmdTaW1pbGFyaXR5ID49IDYwKSB7XG4gICAgcmV0dXJuIDc1XG4gIH0gZWxzZSBpZiAoYXZnU2ltaWxhcml0eSA+PSA0MCkge1xuICAgIHJldHVybiA2NVxuICB9IGVsc2UgaWYgKGF2Z1NpbWlsYXJpdHkgPj0gMjApIHtcbiAgICByZXR1cm4gNTVcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gNTBcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2NvcmVEb21haW5BZ2UoZG9tYWluOiBzdHJpbmcsIHByb3ZpZGVkQWdlSW5ZZWFycz86IG51bWJlcik6IFByb21pc2U8e3Njb3JlOiBudW1iZXI7IGRhdGFTb3VyY2U6IHN0cmluZzsgZXJyb3I/OiBzdHJpbmd9PiB7XG4gIC8vIElmIGFnZSBpcyBhbHJlYWR5IHByb3ZpZGVkLCB1c2UgaXRcbiAgaWYgKHByb3ZpZGVkQWdlSW5ZZWFycykge1xuICAgIHJldHVybiB7XG4gICAgICBzY29yZTogY2FsY3VsYXRlQWdlU2NvcmUocHJvdmlkZWRBZ2VJblllYXJzKSwgXG4gICAgICBkYXRhU291cmNlOiAndXNlcl9wcm92aWRlZCdcbiAgICB9XG4gIH1cblxuICAvLyBUcnkgdG8gZmV0Y2ggcmVhbCBkb21haW4gYWdlIGZyb20gV0hPSVMgQVBJXG4gIHRyeSB7XG4gICAgY29uc3QgYWdlSW5ZZWFycyA9IGF3YWl0IGZldGNoRG9tYWluQWdlKGRvbWFpbilcbiAgICBpZiAoYWdlSW5ZZWFycyAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcmU6IGNhbGN1bGF0ZUFnZVNjb3JlKGFnZUluWWVhcnMpLCBcbiAgICAgICAgZGF0YVNvdXJjZTogJ2lwMndob2lzX2FwaScsXG4gICAgICAgIGVycm9yOiB1bmRlZmluZWRcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gZmV0Y2ggZG9tYWluIGFnZTonLCBlcnJvcilcbiAgICByZXR1cm4ge1xuICAgICAgc2NvcmU6IDI1LCBcbiAgICAgIGRhdGFTb3VyY2U6ICdmYWxsYmFjaycsXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvciBmZXRjaGluZyBkb21haW4gYWdlJ1xuICAgIH1cbiAgfVxuXG4gIC8vIEZhbGxiYWNrIHRvIG5ldXRyYWwgc2NvcmUgaWYgdW5hYmxlIHRvIGRldGVybWluZSBhZ2VcbiAgcmV0dXJuIHtcbiAgICBzY29yZTogMjUsIFxuICAgIGRhdGFTb3VyY2U6ICdmYWxsYmFjaycsXG4gICAgZXJyb3I6ICdObyBhZ2UgZGF0YSBhdmFpbGFibGUnXG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlQWdlU2NvcmUoYWdlSW5ZZWFyczogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKGFnZUluWWVhcnMgPj0gMTUpIHtcbiAgICByZXR1cm4gOTVcbiAgfSBlbHNlIGlmIChhZ2VJblllYXJzID49IDEwKSB7XG4gICAgcmV0dXJuIDkwXG4gIH0gZWxzZSBpZiAoYWdlSW5ZZWFycyA+PSA1KSB7XG4gICAgcmV0dXJuIDcwXG4gIH0gZWxzZSBpZiAoYWdlSW5ZZWFycyA+PSAyKSB7XG4gICAgcmV0dXJuIDUwXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDI1XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hEb21haW5BZ2UoZG9tYWluOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlciB8IG51bGw+IHtcbiAgLy8gQ2hlY2sgaWYgQVBJIGtleSBpcyBjb25maWd1cmVkXG4gIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52LklQMldIT0lTX0FQSV9LRVlcbiAgaWYgKCFhcGlLZXkgfHwgYXBpS2V5LmluY2x1ZGVzKCd5b3VyXycpIHx8IGFwaUtleS50cmltKCkgPT09ICcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJUDJXSE9JUyBBUEkga2V5IG5vdCBjb25maWd1cmVkIC0gdXNpbmcgZmFsbGJhY2sgZGF0YScpXG4gIH1cblxuICAvLyBJUDJXSE9JUyBBUEkgaW1wbGVtZW50YXRpb24gKGZyZWUgdGllciBhdmFpbGFibGUpXG4gIGNvbnN0IEFQSV9VUkwgPSAnaHR0cHM6Ly9hcGkuaXAyd2hvaXMuY29tL3YyJ1xuICBcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9VUkx9P2tleT0ke2FwaUtleX0mZG9tYWluPSR7ZG9tYWlufWApXG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBJUDJXSE9JUyBBUEkga2V5IC0gY2hlY2sgeW91ciBjcmVkZW50aWFsc2ApXG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFdIT0lTIEFQSSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YClcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgIFxuICAgIGlmIChkYXRhLmNyZWF0ZV9kYXRlKSB7XG4gICAgICBjb25zdCBjcmVhdGlvbkRhdGUgPSBuZXcgRGF0ZShkYXRhLmNyZWF0ZV9kYXRlKVxuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKVxuICAgICAgY29uc3QgYWdlSW5ZZWFycyA9IChub3cuZ2V0VGltZSgpIC0gY3JlYXRpb25EYXRlLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCAqIDM2NS4yNSlcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKGFnZUluWWVhcnMgKiAxMCkgLyAxMCAvLyBSb3VuZCB0byAxIGRlY2ltYWwgcGxhY2VcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIG51bGxcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGZldGNoaW5nIGRvbWFpbiBhZ2U6JywgZXJyb3IpXG4gICAgdGhyb3cgZXJyb3IgLy8gUmUtdGhyb3cgc28gY2FsbGVyIGNhbiBoYW5kbGUgYXBwcm9wcmlhdGVseVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzY29yZURvbWFpblRyYWZmaWMoZG9tYWluOiBzdHJpbmcsIHByb3ZpZGVkTW9udGhseVRyYWZmaWM/OiBudW1iZXIpOiBQcm9taXNlPHtzY29yZTogbnVtYmVyOyBkYXRhU291cmNlOiBzdHJpbmc7IGVycm9yPzogc3RyaW5nfT4ge1xuICAvLyBJZiB0cmFmZmljIGRhdGEgaXMgYWxyZWFkeSBwcm92aWRlZCwgdXNlIGl0XG4gIGlmIChwcm92aWRlZE1vbnRobHlUcmFmZmljICYmIHByb3ZpZGVkTW9udGhseVRyYWZmaWMgPiAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjb3JlOiBjYWxjdWxhdGVUcmFmZmljU2NvcmUocHJvdmlkZWRNb250aGx5VHJhZmZpYyksXG4gICAgICBkYXRhU291cmNlOiAndXNlcl9wcm92aWRlZCdcbiAgICB9XG4gIH1cblxuICAvLyBUcnkgdG8gZmV0Y2ggcmVhbCB0cmFmZmljIGRhdGEgZnJvbSBTaW1pbGFyV2ViIEFQSVxuICB0cnkge1xuICAgIGNvbnN0IG1vbnRobHlUcmFmZmljID0gYXdhaXQgZmV0Y2hEb21haW5UcmFmZmljKGRvbWFpbilcbiAgICBpZiAobW9udGhseVRyYWZmaWMgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNjb3JlOiBjYWxjdWxhdGVUcmFmZmljU2NvcmUobW9udGhseVRyYWZmaWMpLFxuICAgICAgICBkYXRhU291cmNlOiAnc2ltaWxhcndlYl9hcGknXG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGZldGNoIGRvbWFpbiB0cmFmZmljOicsIGVycm9yKVxuICAgIHJldHVybiB7XG4gICAgICBzY29yZTogMjAsXG4gICAgICBkYXRhU291cmNlOiAnZmFsbGJhY2snLFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3IgZmV0Y2hpbmcgdHJhZmZpYyBkYXRhJ1xuICAgIH1cbiAgfVxuXG4gIC8vIEZhbGxiYWNrIHRvIGxvdyBzY29yZSBpZiB1bmFibGUgdG8gZGV0ZXJtaW5lIHRyYWZmaWNcbiAgcmV0dXJuIHtcbiAgICBzY29yZTogMjAsXG4gICAgZGF0YVNvdXJjZTogJ2ZhbGxiYWNrJyxcbiAgICBlcnJvcjogJ05vIHRyYWZmaWMgZGF0YSBhdmFpbGFibGUnXG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlVHJhZmZpY1Njb3JlKG1vbnRobHlUcmFmZmljOiBudW1iZXIpOiBudW1iZXIge1xuICBpZiAobW9udGhseVRyYWZmaWMgPj0gMTAwMDAwMCkge1xuICAgIHJldHVybiA5NVxuICB9IGVsc2UgaWYgKG1vbnRobHlUcmFmZmljID49IDEwMDAwMCkge1xuICAgIHJldHVybiA5MFxuICB9IGVsc2UgaWYgKG1vbnRobHlUcmFmZmljID49IDEwMDAwKSB7XG4gICAgcmV0dXJuIDcwXG4gIH0gZWxzZSBpZiAobW9udGhseVRyYWZmaWMgPj0gMTAwMCkge1xuICAgIHJldHVybiA1MFxuICB9IGVsc2UgaWYgKG1vbnRobHlUcmFmZmljID49IDEwMCkge1xuICAgIHJldHVybiAzMFxuICB9IGVsc2Uge1xuICAgIHJldHVybiAyMFxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoRG9tYWluVHJhZmZpYyhkb21haW46IHN0cmluZyk6IFByb21pc2U8bnVtYmVyIHwgbnVsbD4ge1xuICAvLyBDaGVjayBpZiBBUEkga2V5IGlzIGNvbmZpZ3VyZWRcbiAgY29uc3QgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuU0lNSUxBUldFQl9BUElfS0VZXG4gIGlmICghYXBpS2V5IHx8IGFwaUtleS5pbmNsdWRlcygneW91cl8nKSB8fCBhcGlLZXkudHJpbSgpID09PSAnJykge1xuICAgIHRocm93IG5ldyBFcnJvcignU2ltaWxhcldlYiBBUEkga2V5IG5vdCBjb25maWd1cmVkIC0gdXNpbmcgZmFsbGJhY2sgZGF0YScpXG4gIH1cblxuICAvLyBTaW1pbGFyV2ViIEFQSSBpbXBsZW1lbnRhdGlvbiB3aXRoIGNvcnJlY3QgYXV0aGVudGljYXRpb25cbiAgY29uc3QgQVBJX0JBU0VfVVJMID0gJ2h0dHBzOi8vYXBpLnNpbWlsYXJ3ZWIuY29tL3YxL3dlYnNpdGUnXG4gIFxuICB0cnkge1xuICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKVxuICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZShjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpLCBjdXJyZW50RGF0ZS5nZXRNb250aCgpIC0gMSwgMSlcbiAgICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZShjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpLCBjdXJyZW50RGF0ZS5nZXRNb250aCgpIC0gMiwgMSlcbiAgICBcbiAgICBjb25zdCB1cmwgPSBgJHtBUElfQkFTRV9VUkx9LyR7ZG9tYWlufS90b3RhbC10cmFmZmljLWFuZC1lbmdhZ2VtZW50L3Zpc2l0c2BcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgIHN0YXJ0X2RhdGU6IHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDcpLCAvLyBZWVlZLU1NIGZvcm1hdFxuICAgICAgZW5kX2RhdGU6IGVuZERhdGUudG9JU09TdHJpbmcoKS5zbGljZSgwLCA3KSxcbiAgICAgIGNvdW50cnk6ICd3b3JsZCcsXG4gICAgICBncmFudWxhcml0eTogJ21vbnRobHknLFxuICAgICAgbWFpbl9kb21haW5fb25seTogJ3RydWUnLCAvLyBSZXF1aXJlZCBwYXJhbWV0ZXJcbiAgICAgIGZvcm1hdDogJ2pzb24nLCAvLyBFeHBsaWNpdCBmb3JtYXQgc3BlY2lmaWNhdGlvblxuICAgICAgYXBpX2tleTogYXBpS2V5IC8vIFNpbWlsYXJXZWIgQVBJIGtleSBhcyBxdWVyeSBwYXJhbWV0ZXJcbiAgICB9KVxuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dXJsfT8ke3BhcmFtc31gLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgU2ltaWxhcldlYiBBUEkga2V5IC0gY2hlY2sgeW91ciBjcmVkZW50aWFsc2ApXG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFNpbWlsYXJXZWIgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgXG4gICAgaWYgKGRhdGEudmlzaXRzICYmIEFycmF5LmlzQXJyYXkoZGF0YS52aXNpdHMpICYmIGRhdGEudmlzaXRzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIEdldCB0aGUgbW9zdCByZWNlbnQgbW9udGgncyBkYXRhXG4gICAgICBjb25zdCBsYXRlc3RWaXNpdHMgPSBkYXRhLnZpc2l0c1tkYXRhLnZpc2l0cy5sZW5ndGggLSAxXS52aXNpdHNcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKGxhdGVzdFZpc2l0cylcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIG51bGxcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGZldGNoaW5nIGRvbWFpbiB0cmFmZmljOicsIGVycm9yKVxuICAgIHRocm93IGVycm9yIC8vIFJlLXRocm93IHNvIGNhbGxlciBjYW4gaGFuZGxlIGFwcHJvcHJpYXRlbHlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2NvcmVMaXF1aWRpdHkoZG9tYWluOiBzdHJpbmcpOiBudW1iZXIge1xuICBjb25zdCBkb21haW5OYW1lID0gZG9tYWluLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFwuKGNvbXxuZXR8b3JnfGlvfGFpfGNvfGFwcHx4eXp8aW5mb3xiaXopJC8sICcnKVxuICBjb25zdCB0bGQgPSBkb21haW4udG9Mb3dlckNhc2UoKS5zcGxpdCgnLicpLnBvcCgpIHx8ICcnXG4gIGNvbnN0IGxlbmd0aCA9IGRvbWFpbk5hbWUubGVuZ3RoXG4gIFxuICAvLyBWZXJ5IGhpZ2ggbGlxdWlkaXR5IHBhdHRlcm5zXG4gIGlmICh0bGQgPT09ICdjb20nKSB7XG4gICAgaWYgKGxlbmd0aCA8PSAzICYmIC9eW2Etel0rJC8udGVzdChkb21haW5OYW1lKSkge1xuICAgICAgcmV0dXJuIDEwMCAvLyBMTEwuY29tLCBMTC5jb21cbiAgICB9XG4gICAgaWYgKGxlbmd0aCA8PSA2ICYmIC9eW2Etel0rJC8udGVzdChkb21haW5OYW1lKSAmJiAhZG9tYWluTmFtZS5pbmNsdWRlcygnLScpKSB7XG4gICAgICByZXR1cm4gOTAgLy8gU2hvcnQgZGljdGlvbmFyeSB3b3Jkc1xuICAgIH1cbiAgfVxuICBcbiAgLy8gSGlnaCBsaXF1aWRpdHlcbiAgaWYgKHRsZCA9PT0gJ2NvbScgJiYgbGVuZ3RoIDw9IDggJiYgIWRvbWFpbk5hbWUuaW5jbHVkZXMoJy0nKSAmJiAhZG9tYWluTmFtZS5pbmNsdWRlcygnXycpKSB7XG4gICAgcmV0dXJuIDgwXG4gIH1cbiAgXG4gIC8vIE1lZGl1bSBsaXF1aWRpdHlcbiAgaWYgKCh0bGQgPT09ICdjb20nIHx8IHRsZCA9PT0gJ25ldCcgfHwgdGxkID09PSAnb3JnJykgJiYgbGVuZ3RoIDw9IDEyKSB7XG4gICAgcmV0dXJuIDYwXG4gIH1cbiAgXG4gIC8vIExvd2VyIGxpcXVpZGl0eSBmb3IgbmV3ZXIgVExEcyBvciBsb25nZXIgZG9tYWluc1xuICBpZiAobGVuZ3RoIDw9IDEwKSB7XG4gICAgcmV0dXJuIDQ1XG4gIH1cbiAgXG4gIHJldHVybiAyNVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXNzZXNzTGVnYWxSaXNrKGRvbWFpbjogc3RyaW5nKTogUHJvbWlzZTx7IGZsYWc6ICdjbGVhcicgfCAnd2FybmluZycgfCAnc2V2ZXJlJzsgbXVsdGlwbGllcjogbnVtYmVyOyBzY29yZTogbnVtYmVyIH0+IHtcbiAgY29uc3QgZG9tYWluTmFtZSA9IGRvbWFpbi50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcLihjb218bmV0fG9yZ3xpb3xhaXxjb3xhcHB8eHl6fGluZm98Yml6KSQvLCAnJylcbiAgXG4gIC8vIFRyeSB0byBjaGVjayByZWFsIHRyYWRlbWFyayBkYXRhYmFzZSBmaXJzdFxuICB0cnkge1xuICAgIGNvbnN0IHRyYWRlbWFya1Jlc3VsdCA9IGF3YWl0IGNoZWNrVHJhZGVtYXJrQ29uZmxpY3RzKGRvbWFpbk5hbWUpXG4gICAgaWYgKHRyYWRlbWFya1Jlc3VsdC5oYXNDb25mbGljdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZmxhZzogdHJhZGVtYXJrUmVzdWx0LnNldmVyaXR5LFxuICAgICAgICBtdWx0aXBsaWVyOiB0cmFkZW1hcmtSZXN1bHQuc2V2ZXJpdHkgPT09ICdzZXZlcmUnID8gMCA6IHRyYWRlbWFya1Jlc3VsdC5zZXZlcml0eSA9PT0gJ3dhcm5pbmcnID8gMC41IDogMS4wLFxuICAgICAgICBzY29yZTogdHJhZGVtYXJrUmVzdWx0LnNldmVyaXR5ID09PSAnc2V2ZXJlJyA/IDAgOiB0cmFkZW1hcmtSZXN1bHQuc2V2ZXJpdHkgPT09ICd3YXJuaW5nJyA/IDI1IDogMTAwXG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGNoZWNrIHRyYWRlbWFyayBkYXRhYmFzZTonLCBlcnJvcilcbiAgfVxuXG4gIC8vIEZhbGxiYWNrIHRvIHN0YXRpYyBicmFuZCBjaGVja2luZ1xuICByZXR1cm4gYXNzZXNzU3RhdGljTGVnYWxSaXNrKGRvbWFpbk5hbWUpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNoZWNrVHJhZGVtYXJrQ29uZmxpY3RzKHRlcm06IHN0cmluZyk6IFByb21pc2U8e2hhc0NvbmZsaWN0OiBib29sZWFuOyBzZXZlcml0eTogJ2NsZWFyJyB8ICd3YXJuaW5nJyB8ICdzZXZlcmUnfT4ge1xuICAvLyBDaGVjayBpZiBBUEkgY3JlZGVudGlhbHMgYXJlIGNvbmZpZ3VyZWRcbiAgY29uc3QgdXNlcm5hbWUgPSBwcm9jZXNzLmVudi5NQVJLRVJfQVBJX1VTRVJOQU1FXG4gIGNvbnN0IHBhc3N3b3JkID0gcHJvY2Vzcy5lbnYuTUFSS0VSX0FQSV9QQVNTV09SRFxuICBcbiAgaWYgKCF1c2VybmFtZSB8fCAhcGFzc3dvcmQgfHwgdXNlcm5hbWUuaW5jbHVkZXMoJ3lvdXJfJykgfHwgcGFzc3dvcmQuaW5jbHVkZXMoJ3lvdXJfJykgfHwgXG4gICAgICB1c2VybmFtZS50cmltKCkgPT09ICcnIHx8IHBhc3N3b3JkLnRyaW0oKSA9PT0gJycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01hcmtlciBBUEkgY3JlZGVudGlhbHMgbm90IGNvbmZpZ3VyZWQgLSB1c2luZyBmYWxsYmFjayBkYXRhJylcbiAgfVxuXG4gIC8vIE1hcmtlciBBUEkgaW1wbGVtZW50YXRpb24gKGNvcnJlY3QgVVJMIHN0cnVjdHVyZSlcbiAgY29uc3QgTUFSS0VSX0FQSV9VUkwgPSAnaHR0cHM6Ly9tYXJrZXJhcGkuY29tL2FwaS92Mi90cmFkZW1hcmtzJ1xuICBcbiAgdHJ5IHtcbiAgICAvLyBTZWFyY2ggYWN0aXZlIHRyYWRlbWFya3MgLSBjb3JyZWN0IEFQSSBlbmRwb2ludCBmb3JtYXRcbiAgICBjb25zdCBzZWFyY2hVcmwgPSBgJHtNQVJLRVJfQVBJX1VSTH0vdHJhZGVtYXJrLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHRlcm0pfS9zdGF0dXMvYWN0aXZlL3N0YXJ0LzAvdXNlcm5hbWUvJHt1c2VybmFtZX0vcGFzc3dvcmQvJHtwYXNzd29yZH1gXG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzZWFyY2hVcmwsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgTWFya2VyIEFQSSBjcmVkZW50aWFscyAtIGNoZWNrIHlvdXIgdXNlcm5hbWUvcGFzc3dvcmQnKVxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUcmFkZW1hcmsgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgXG4gICAgaWYgKGRhdGEucmVzdWx0cyAmJiBBcnJheS5pc0FycmF5KGRhdGEucmVzdWx0cykgJiYgZGF0YS5yZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIENoZWNrIGZvciBleGFjdCBvciB2ZXJ5IGNsb3NlIG1hdGNoZXNcbiAgICAgIGNvbnN0IGV4YWN0TWF0Y2hlcyA9IGRhdGEucmVzdWx0cy5maWx0ZXIoKHRtOiBhbnkpID0+IFxuICAgICAgICB0bS5tYXJrICYmIHRtLm1hcmsudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bXmEtejAtOV0vZywgJycpID09PSB0ZXJtLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW15hLXowLTldL2csICcnKVxuICAgICAgKVxuICAgICAgXG4gICAgICBpZiAoZXhhY3RNYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHsgaGFzQ29uZmxpY3Q6IHRydWUsIHNldmVyaXR5OiAnc2V2ZXJlJyB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGZvciBzaW1pbGFyIG1hdGNoZXNcbiAgICAgIGNvbnN0IHNpbWlsYXJNYXRjaGVzID0gZGF0YS5yZXN1bHRzLmZpbHRlcigodG06IGFueSkgPT4gXG4gICAgICAgIHRtLm1hcmsgJiYgKHRtLm1hcmsudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0ZXJtLnRvTG93ZXJDYXNlKCkpIHx8IHRlcm0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0bS5tYXJrLnRvTG93ZXJDYXNlKCkpKVxuICAgICAgKVxuICAgICAgXG4gICAgICBpZiAoc2ltaWxhck1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4geyBoYXNDb25mbGljdDogdHJ1ZSwgc2V2ZXJpdHk6ICd3YXJuaW5nJyB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IGhhc0NvbmZsaWN0OiBmYWxzZSwgc2V2ZXJpdHk6ICdjbGVhcicgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybignRXJyb3IgY2hlY2tpbmcgdHJhZGVtYXJrczonLCBlcnJvcilcbiAgICB0aHJvdyBlcnJvciAvLyBSZS10aHJvdyBzbyBjYWxsZXIgY2FuIGhhbmRsZSBhcHByb3ByaWF0ZWx5XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXNzU3RhdGljTGVnYWxSaXNrKGRvbWFpbk5hbWU6IHN0cmluZyk6IHsgZmxhZzogJ2NsZWFyJyB8ICd3YXJuaW5nJyB8ICdzZXZlcmUnOyBtdWx0aXBsaWVyOiBudW1iZXI7IHNjb3JlOiBudW1iZXIgfSB7XG4gIC8vIEVuaGFuY2VkIHN0YXRpYyBicmFuZCBsaXN0IChrZWVwaW5nIGFzIGZhbGxiYWNrKVxuICBjb25zdCBFTkhBTkNFRF9MRUdBTF9CUkFORFMgPSBbXG4gICAgLi4uTEVHQUxfQlJBTkRTLFxuICAgICdjaGF0Z3B0JywgJ29wZW5haScsICdhbnRocm9waWMnLCAnY2xhdWRlJywgJ21pZGpvdXJuZXknLCAnc3RhYmlsaXR5JyxcbiAgICAnYmluYW5jZScsICdjb2luYmFzZScsICdrcmFrZW4nLCAnZnR4JywgJ2V0aGVyZXVtJywgJ3BvbHlnb24nLFxuICAgICdzaG9waWZ5JywgJ2V0c3knLCAnd2FsbWFydCcsICd0YXJnZXQnLCAnYmVzdGJ1eScsICdtYWN5cycsXG4gICAgJ2Jvb2tpbmcnLCAnZXhwZWRpYScsICdtYXJyaW90dCcsICdoaWx0b24nLCAnaHlhdHQnLCAnYWlyYm5iJ1xuICBdXG4gIFxuICAvLyBDaGVjayBmb3IgZXhhY3QgbWF0Y2hlc1xuICBmb3IgKGNvbnN0IGJyYW5kIG9mIEVOSEFOQ0VEX0xFR0FMX0JSQU5EUykge1xuICAgIGlmIChkb21haW5OYW1lID09PSBicmFuZCB8fCBkb21haW5OYW1lID09PSBicmFuZCArICdzJyB8fCBkb21haW5OYW1lID09PSBicmFuZCArICdhcHAnIHx8IGRvbWFpbk5hbWUgPT09IGJyYW5kICsgJ2FwaScgfHwgZG9tYWluTmFtZSA9PT0gYnJhbmQgKyAncHJvJykge1xuICAgICAgcmV0dXJuIHsgZmxhZzogJ3NldmVyZScsIG11bHRpcGxpZXI6IDAsIHNjb3JlOiAwIH1cbiAgICB9XG4gIH1cbiAgXG4gIC8vIENoZWNrIGZvciBzdWJzdHJpbmcgbWF0Y2hlc1xuICBmb3IgKGNvbnN0IGJyYW5kIG9mIEVOSEFOQ0VEX0xFR0FMX0JSQU5EUykge1xuICAgIGlmIChkb21haW5OYW1lLmluY2x1ZGVzKGJyYW5kKSAmJiBicmFuZC5sZW5ndGggPj0gNCkge1xuICAgICAgcmV0dXJuIHsgZmxhZzogJ3dhcm5pbmcnLCBtdWx0aXBsaWVyOiAwLjUsIHNjb3JlOiAyNSB9XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4geyBmbGFnOiAnY2xlYXInLCBtdWx0aXBsaWVyOiAxLjAsIHNjb3JlOiAxMDAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwU2NvcmVUb1ByaWNlQnJhY2tldChzY29yZTogbnVtYmVyKTogeyBtaW46IG51bWJlcjsgbWF4OiBudW1iZXI7IGJyYWNrZXQ6IHN0cmluZyB9IHtcbiAgaWYgKHNjb3JlID49IDgwKSB7XG4gICAgcmV0dXJuIHsgbWluOiAxMDAwMDAsIG1heDogNTAwMDAwMCwgYnJhY2tldDogJzgwLTEwMCcgfVxuICB9IGVsc2UgaWYgKHNjb3JlID49IDYwKSB7XG4gICAgcmV0dXJuIHsgbWluOiAxMDAwMCwgbWF4OiAxMDAwMDAsIGJyYWNrZXQ6ICc2MC04MCcgfVxuICB9IGVsc2UgaWYgKHNjb3JlID49IDQwKSB7XG4gICAgcmV0dXJuIHsgbWluOiAxNTAwLCBtYXg6IDEwMDAwLCBicmFja2V0OiAnNDAtNjAnIH1cbiAgfSBlbHNlIGlmIChzY29yZSA+PSAyMCkge1xuICAgIHJldHVybiB7IG1pbjogNTAwLCBtYXg6IDE1MDAsIGJyYWNrZXQ6ICcyMC00MCcgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB7IG1pbjogNTAsIG1heDogNTAwLCBicmFja2V0OiAnMC0yMCcgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVQcmljZUVzdGltYXRlKGZpbmFsU2NvcmU6IG51bWJlciwgY29tcHNNZWRpYW4/OiBudW1iZXIpOiB7IGludmVzdG9yOiBzdHJpbmc7IHJldGFpbDogc3RyaW5nOyBleHBsYW5hdGlvbjogc3RyaW5nIH0ge1xuICBjb25zdCBicmFja2V0ID0gbWFwU2NvcmVUb1ByaWNlQnJhY2tldChmaW5hbFNjb3JlKVxuICBjb25zdCBicmFja2V0TWlkcG9pbnQgPSAoYnJhY2tldC5taW4gKyBicmFja2V0Lm1heCkgLyAyXG4gIFxuICBsZXQgaW52ZXN0b3JQcmljZSA9IGJyYWNrZXQubWluXG4gIGxldCByZXRhaWxQcmljZSA9IGJyYWNrZXRNaWRwb2ludFxuICBcbiAgaWYgKGNvbXBzTWVkaWFuICYmIGNvbXBzTWVkaWFuID4gMCkge1xuICAgIC8vIEJsZW5kIGNvbXBzIG1lZGlhbiB3aXRoIGJyYWNrZXQgbWlkcG9pbnQgKDYwLzQwIGZhdm9yaW5nIGNvbXBzKVxuICAgIHJldGFpbFByaWNlID0gTWF0aC5yb3VuZCgwLjYgKiBjb21wc01lZGlhbiArIDAuNCAqIGJyYWNrZXRNaWRwb2ludClcbiAgICBpbnZlc3RvclByaWNlID0gTWF0aC5yb3VuZChyZXRhaWxQcmljZSAqIDAuNikgLy8gSW52ZXN0b3IgcHJpY2UgaXMgdHlwaWNhbGx5IDQwJSBsZXNzXG4gIH1cbiAgXG4gIGNvbnN0IGV4cGxhbmF0aW9uID0gY29tcHNNZWRpYW4gXG4gICAgPyBgUHJpY2UgZXN0aW1hdGUgYmFzZWQgb24gJHtmaW5hbFNjb3JlLnRvRml4ZWQoMSl9LzEwMCBzY29yZSBhbmQgY29tcGFyYWJsZSBzYWxlcyBkYXRhLmBcbiAgICA6IGBQcmljZSBlc3RpbWF0ZSBiYXNlZCBvbiAke2ZpbmFsU2NvcmUudG9GaXhlZCgxKX0vMTAwIGFsZ29yaXRobWljIHNjb3JlLiBBZGQgY29tcGFyYWJsZSBzYWxlcyBkYXRhIGZvciBtb3JlIGFjY3VyYXRlIHByaWNpbmcuYFxuICBcbiAgcmV0dXJuIHtcbiAgICBpbnZlc3RvcjogYCQke2ludmVzdG9yUHJpY2UudG9Mb2NhbGVTdHJpbmcoKX1gLFxuICAgIHJldGFpbDogYCQke3JldGFpbFByaWNlLnRvTG9jYWxlU3RyaW5nKCl9YCxcbiAgICBleHBsYW5hdGlvblxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBldmFsdWF0ZURvbWFpbihcbiAgZG9tYWluOiBzdHJpbmcsIFxuICBvcHRpb25zOiB7IFxuICAgIHVzZXJUcmFmZmljPzogbnVtYmVyOyBcbiAgICBjb3VudHJ5Pzogc3RyaW5nOyBcbiAgICB1c2VDb21wcz86IGJvb2xlYW47XG4gICAgZG9tYWluQWdlPzogbnVtYmVyO1xuICB9ID0ge30sXG4gIHdlaWdodHM6IEZhY3RvcldlaWdodHMgPSBERUZBVUxUX1dFSUdIVFNcbik6IFByb21pc2U8RG9tYWluQXBwcmFpc2FsPiB7XG4gIFxuICAvLyBTY29yZSBlYWNoIGZhY3RvclxuICBjb25zdCBsZW5ndGhTY29yZSA9IHNjb3JlTGVuZ3RoQW5kU2ltcGxpY2l0eShkb21haW4pXG4gIGNvbnN0IGtleXdvcmRSZXN1bHQgPSBzY29yZUtleXdvcmRzKGRvbWFpbilcbiAgY29uc3QgdGxkU2NvcmUgPSBzY29yZVRMRChkb21haW4sIG9wdGlvbnMuY291bnRyeSlcbiAgY29uc3QgaW5kdXN0cnlTY29yZSA9IHNjb3JlSW5kdXN0cnlSZWxldmFuY2Uoa2V5d29yZFJlc3VsdC5pbmR1c3RyeSwga2V5d29yZFJlc3VsdC5rZXl3b3JkcylcbiAgXG4gIC8vIExvYWQgY29tcGFyYWJsZSBzYWxlc1xuICBjb25zdCBjb21wYXJhYmxlcyA9IGF3YWl0IGZpbmRDb21wYXJhYmxlcyhkb21haW4sIDUpXG4gIGNvbnN0IGNvbXBzU2NvcmUgPSBzY29yZUNvbXBhcmFibGVTYWxlcyhkb21haW4sIGNvbXBhcmFibGVzKVxuICBjb25zdCBhZ2VSZXN1bHQgPSBhd2FpdCBzY29yZURvbWFpbkFnZShkb21haW4sIG9wdGlvbnMuZG9tYWluQWdlKVxuICBjb25zdCB0cmFmZmljUmVzdWx0ID0gYXdhaXQgc2NvcmVEb21haW5UcmFmZmljKGRvbWFpbiwgb3B0aW9ucy51c2VyVHJhZmZpYylcbiAgY29uc3QgbGlxdWlkaXR5U2NvcmUgPSBzY29yZUxpcXVpZGl0eShkb21haW4pXG4gIFxuICAvLyBHZXQgQUkgYnJhbmRhYmlsaXR5IHNjb3JlXG4gIGNvbnN0IGJyYW5kYWJpbGl0eVJlc3VsdCA9IGF3YWl0IGFuYWx5emVCcmFuZGFiaWxpdHkoZG9tYWluKVxuICBcbiAgLy8gQXNzZXNzIGxlZ2FsIHJpc2tcbiAgY29uc3QgbGVnYWxSaXNrID0gYXdhaXQgYXNzZXNzTGVnYWxSaXNrKGRvbWFpbilcbiAgXG4gIC8vIENhbGN1bGF0ZSB3ZWlnaHRlZCBzY29yZVxuICBjb25zdCBicmVha2Rvd246IEZhY3RvckJyZWFrZG93bltdID0gW1xuICAgIHsgZmFjdG9yOiAnbGVuZ3RoJywgc2NvcmU6IGxlbmd0aFNjb3JlLCB3ZWlnaHQ6IHdlaWdodHMubGVuZ3RoLCBjb250cmlidXRpb246IHdlaWdodHMubGVuZ3RoICogbGVuZ3RoU2NvcmUgfSxcbiAgICB7IGZhY3RvcjogJ2tleXdvcmRzJywgc2NvcmU6IGtleXdvcmRSZXN1bHQuc2NvcmUsIHdlaWdodDogd2VpZ2h0cy5rZXl3b3JkcywgY29udHJpYnV0aW9uOiB3ZWlnaHRzLmtleXdvcmRzICoga2V5d29yZFJlc3VsdC5zY29yZSB9LFxuICAgIHsgZmFjdG9yOiAndGxkJywgc2NvcmU6IHRsZFNjb3JlLCB3ZWlnaHQ6IHdlaWdodHMudGxkLCBjb250cmlidXRpb246IHdlaWdodHMudGxkICogdGxkU2NvcmUgfSxcbiAgICB7IGZhY3RvcjogJ2JyYW5kYWJpbGl0eScsIHNjb3JlOiBicmFuZGFiaWxpdHlSZXN1bHQuc2NvcmUsIHdlaWdodDogd2VpZ2h0cy5icmFuZGFiaWxpdHksIGNvbnRyaWJ1dGlvbjogd2VpZ2h0cy5icmFuZGFiaWxpdHkgKiBicmFuZGFiaWxpdHlSZXN1bHQuc2NvcmUgfSxcbiAgICB7IGZhY3RvcjogJ2luZHVzdHJ5Jywgc2NvcmU6IGluZHVzdHJ5U2NvcmUsIHdlaWdodDogd2VpZ2h0cy5pbmR1c3RyeSwgY29udHJpYnV0aW9uOiB3ZWlnaHRzLmluZHVzdHJ5ICogaW5kdXN0cnlTY29yZSB9LFxuICAgIHsgZmFjdG9yOiAnY29tcHMnLCBzY29yZTogY29tcHNTY29yZSwgd2VpZ2h0OiB3ZWlnaHRzLmNvbXBzLCBjb250cmlidXRpb246IHdlaWdodHMuY29tcHMgKiBjb21wc1Njb3JlIH0sXG4gICAgeyBmYWN0b3I6ICdhZ2UnLCBzY29yZTogYWdlUmVzdWx0LnNjb3JlLCB3ZWlnaHQ6IHdlaWdodHMuYWdlLCBjb250cmlidXRpb246IHdlaWdodHMuYWdlICogYWdlUmVzdWx0LnNjb3JlIH0sXG4gICAgeyBmYWN0b3I6ICd0cmFmZmljJywgc2NvcmU6IHRyYWZmaWNSZXN1bHQuc2NvcmUsIHdlaWdodDogd2VpZ2h0cy50cmFmZmljLCBjb250cmlidXRpb246IHdlaWdodHMudHJhZmZpYyAqIHRyYWZmaWNSZXN1bHQuc2NvcmUgfSxcbiAgICB7IGZhY3RvcjogJ2xpcXVpZGl0eScsIHNjb3JlOiBsaXF1aWRpdHlTY29yZSwgd2VpZ2h0OiB3ZWlnaHRzLmxpcXVpZGl0eSwgY29udHJpYnV0aW9uOiB3ZWlnaHRzLmxpcXVpZGl0eSAqIGxpcXVpZGl0eVNjb3JlIH0sXG4gICAgeyBmYWN0b3I6ICdsZWdhbCcsIHNjb3JlOiBsZWdhbFJpc2suc2NvcmUsIHdlaWdodDogMCwgY29udHJpYnV0aW9uOiAwLCBkZXNjcmlwdGlvbjogYCR7bGVnYWxSaXNrLmZsYWcudG9VcHBlckNhc2UoKX06IEFjdHMgYXMgJHtsZWdhbFJpc2subXVsdGlwbGllcn14IG11bHRpcGxpZXJgIH1cbiAgXVxuICBcbiAgY29uc3QgcmF3U2NvcmUgPSBicmVha2Rvd24ucmVkdWNlKChzdW0sIGZhY3RvcikgPT4gc3VtICsgZmFjdG9yLmNvbnRyaWJ1dGlvbiwgMClcbiAgY29uc3QgZmluYWxTY29yZSA9IHJhd1Njb3JlICogbGVnYWxSaXNrLm11bHRpcGxpZXJcbiAgXG4gIC8vIENhbGN1bGF0ZSBwcmljZSBlc3RpbWF0ZSB3aXRoIGNvbXBzIG1lZGlhblxuICBjb25zdCBzb3J0ZWRDb21wYXJhYmxlcyA9IFsuLi5jb21wYXJhYmxlc10uc29ydCgoYSwgYikgPT4gYS5zb2xkUHJpY2UgLSBiLnNvbGRQcmljZSlcbiAgY29uc3QgY29tcHNNZWRpYW4gPSBjb21wYXJhYmxlcy5sZW5ndGggPiAwIFxuICAgID8gc29ydGVkQ29tcGFyYWJsZXNbTWF0aC5mbG9vcihzb3J0ZWRDb21wYXJhYmxlcy5sZW5ndGggLyAyKV0uc29sZFByaWNlXG4gICAgOiB1bmRlZmluZWRcbiAgICBcbiAgY29uc3QgcHJpY2VFc3RpbWF0ZSA9IGNhbGN1bGF0ZVByaWNlRXN0aW1hdGUoZmluYWxTY29yZSwgY29tcHNNZWRpYW4pXG4gIGNvbnN0IGJyYWNrZXQgPSBtYXBTY29yZVRvUHJpY2VCcmFja2V0KGZpbmFsU2NvcmUpXG4gIFxuICByZXR1cm4ge1xuICAgIGRvbWFpbixcbiAgICBmaW5hbFNjb3JlLFxuICAgIGJyYWNrZXQ6IGJyYWNrZXQuYnJhY2tldCxcbiAgICBwcmljZUVzdGltYXRlLFxuICAgIGJyZWFrZG93bixcbiAgICBsZWdhbEZsYWc6IGxlZ2FsUmlzay5mbGFnLFxuICAgIGFpQ29tbWVudDogYnJhbmRhYmlsaXR5UmVzdWx0LmNvbW1lbnRhcnksXG4gICAgY29tcHM6IGNvbXBhcmFibGVzXG4gIH1cbn0iXSwibmFtZXMiOlsiZmluZEtleXdvcmRWYWx1ZSIsImZpbmRDb21wYXJhYmxlcyIsImFuYWx5emVCcmFuZGFiaWxpdHkiLCJERUZBVUxUX1dFSUdIVFMiLCJsZW5ndGgiLCJrZXl3b3JkcyIsInRsZCIsImJyYW5kYWJpbGl0eSIsImluZHVzdHJ5IiwiY29tcHMiLCJhZ2UiLCJ0cmFmZmljIiwibGlxdWlkaXR5IiwibGVnYWwiLCJMRUdBTF9CUkFORFMiLCJzY29yZUxlbmd0aEFuZFNpbXBsaWNpdHkiLCJkb21haW4iLCJkb21haW5OYW1lIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwid29yZENvdW50Iiwic3BsaXQiLCJoYXNIeXBoZW4iLCJpbmNsdWRlcyIsImhhc051bWJlciIsInRlc3QiLCJoYXNVbmRlcnNjb3JlIiwic2NvcmUiLCJNYXRoIiwibWF4Iiwic2NvcmVLZXl3b3JkcyIsInJlc3VsdCIsIm1hdGNoZWRLZXl3b3JkcyIsInNjb3JlVExEIiwidGFyZ2V0Q291bnRyeSIsInBvcCIsInNjb3JlSW5kdXN0cnlSZWxldmFuY2UiLCJoaWdoVmFsdWVJbmR1c3RyaWVzIiwibWVkaXVtVmFsdWVJbmR1c3RyaWVzIiwiYmFzZVNjb3JlIiwibWluIiwic2NvcmVDb21wYXJhYmxlU2FsZXMiLCJhdmdTaW1pbGFyaXR5IiwicmVkdWNlIiwic3VtIiwiY29tcCIsInNpbWlsYXJpdHkiLCJzY29yZURvbWFpbkFnZSIsInByb3ZpZGVkQWdlSW5ZZWFycyIsImNhbGN1bGF0ZUFnZVNjb3JlIiwiZGF0YVNvdXJjZSIsImFnZUluWWVhcnMiLCJmZXRjaERvbWFpbkFnZSIsImVycm9yIiwidW5kZWZpbmVkIiwiY29uc29sZSIsIndhcm4iLCJFcnJvciIsIm1lc3NhZ2UiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiSVAyV0hPSVNfQVBJX0tFWSIsInRyaW0iLCJBUElfVVJMIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwic3RhdHVzIiwiZGF0YSIsImpzb24iLCJjcmVhdGVfZGF0ZSIsImNyZWF0aW9uRGF0ZSIsIkRhdGUiLCJub3ciLCJnZXRUaW1lIiwiZmxvb3IiLCJzY29yZURvbWFpblRyYWZmaWMiLCJwcm92aWRlZE1vbnRobHlUcmFmZmljIiwiY2FsY3VsYXRlVHJhZmZpY1Njb3JlIiwibW9udGhseVRyYWZmaWMiLCJmZXRjaERvbWFpblRyYWZmaWMiLCJTSU1JTEFSV0VCX0FQSV9LRVkiLCJBUElfQkFTRV9VUkwiLCJjdXJyZW50RGF0ZSIsImVuZERhdGUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwic3RhcnREYXRlIiwidXJsIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwic3RhcnRfZGF0ZSIsInRvSVNPU3RyaW5nIiwic2xpY2UiLCJlbmRfZGF0ZSIsImNvdW50cnkiLCJncmFudWxhcml0eSIsIm1haW5fZG9tYWluX29ubHkiLCJmb3JtYXQiLCJhcGlfa2V5IiwiaGVhZGVycyIsInZpc2l0cyIsIkFycmF5IiwiaXNBcnJheSIsImxhdGVzdFZpc2l0cyIsInJvdW5kIiwic2NvcmVMaXF1aWRpdHkiLCJhc3Nlc3NMZWdhbFJpc2siLCJ0cmFkZW1hcmtSZXN1bHQiLCJjaGVja1RyYWRlbWFya0NvbmZsaWN0cyIsImhhc0NvbmZsaWN0IiwiZmxhZyIsInNldmVyaXR5IiwibXVsdGlwbGllciIsImFzc2Vzc1N0YXRpY0xlZ2FsUmlzayIsInRlcm0iLCJ1c2VybmFtZSIsIk1BUktFUl9BUElfVVNFUk5BTUUiLCJwYXNzd29yZCIsIk1BUktFUl9BUElfUEFTU1dPUkQiLCJNQVJLRVJfQVBJX1VSTCIsInNlYXJjaFVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsIm1ldGhvZCIsInJlc3VsdHMiLCJleGFjdE1hdGNoZXMiLCJmaWx0ZXIiLCJ0bSIsIm1hcmsiLCJzaW1pbGFyTWF0Y2hlcyIsIkVOSEFOQ0VEX0xFR0FMX0JSQU5EUyIsImJyYW5kIiwibWFwU2NvcmVUb1ByaWNlQnJhY2tldCIsImJyYWNrZXQiLCJjYWxjdWxhdGVQcmljZUVzdGltYXRlIiwiZmluYWxTY29yZSIsImNvbXBzTWVkaWFuIiwiYnJhY2tldE1pZHBvaW50IiwiaW52ZXN0b3JQcmljZSIsInJldGFpbFByaWNlIiwiZXhwbGFuYXRpb24iLCJ0b0ZpeGVkIiwiaW52ZXN0b3IiLCJ0b0xvY2FsZVN0cmluZyIsInJldGFpbCIsImV2YWx1YXRlRG9tYWluIiwib3B0aW9ucyIsIndlaWdodHMiLCJsZW5ndGhTY29yZSIsImtleXdvcmRSZXN1bHQiLCJ0bGRTY29yZSIsImluZHVzdHJ5U2NvcmUiLCJjb21wYXJhYmxlcyIsImNvbXBzU2NvcmUiLCJhZ2VSZXN1bHQiLCJkb21haW5BZ2UiLCJ0cmFmZmljUmVzdWx0IiwidXNlclRyYWZmaWMiLCJsaXF1aWRpdHlTY29yZSIsImJyYW5kYWJpbGl0eVJlc3VsdCIsImxlZ2FsUmlzayIsImJyZWFrZG93biIsImZhY3RvciIsIndlaWdodCIsImNvbnRyaWJ1dGlvbiIsImRlc2NyaXB0aW9uIiwidG9VcHBlckNhc2UiLCJyYXdTY29yZSIsInNvcnRlZENvbXBhcmFibGVzIiwic29ydCIsImEiLCJiIiwic29sZFByaWNlIiwicHJpY2VFc3RpbWF0ZSIsImxlZ2FsRmxhZyIsImFpQ29tbWVudCIsImNvbW1lbnRhcnkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/valuation.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/xai.ts":
/*!************************!*\
  !*** ./src/lib/xai.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeBrandability: () => (/* binding */ analyzeBrandability)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n// xAI integration for domain brandability scoring\n// Based on javascript_xai blueprint\n\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n    baseURL: \"https://api.x.ai/v1\",\n    apiKey: process.env.XAI_API_KEY\n});\nasync function analyzeBrandability(domain) {\n    try {\n        const response = await openai.chat.completions.create({\n            model: \"grok-2-1212\",\n            messages: [\n                {\n                    role: \"system\",\n                    content: `You are a domain branding expert. Analyze the brandability of domain names based on:\n          - Pronounceability (how easy it is to say)\n          - Memorability (how easy it is to remember)\n          - Uniqueness (how distinctive it is)\n          - Commercial appeal (how suitable for business use)\n          \n          Provide a score from 0-100 and a brief 2-3 sentence explanation.\n          Respond with JSON in this format: { \"score\": number, \"commentary\": \"explanation\" }`\n                },\n                {\n                    role: \"user\",\n                    content: `Analyze the brandability of this domain: ${domain}`\n                }\n            ],\n            response_format: {\n                type: \"json_object\"\n            }\n        });\n        const result = JSON.parse(response.choices[0].message.content || '{}');\n        return {\n            score: Math.max(0, Math.min(100, Math.round(result.score || 0))),\n            commentary: result.commentary || \"Unable to analyze brandability at this time.\"\n        };\n    } catch (error) {\n        console.error('Brandability analysis failed:', error);\n        // Return a neutral score if AI analysis fails\n        return {\n            score: 50,\n            commentary: \"AI analysis temporarily unavailable. Manual review recommended.\"\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3hhaS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLGtEQUFrRDtBQUNsRCxvQ0FBb0M7QUFFUjtBQUU1QixNQUFNQyxTQUFTLElBQUlELDhDQUFNQSxDQUFDO0lBQ3hCRSxTQUFTO0lBQ1RDLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0MsV0FBVztBQUNqQztBQU9PLGVBQWVDLG9CQUFvQkMsTUFBYztJQUN0RCxJQUFJO1FBQ0YsTUFBTUMsV0FBVyxNQUFNUixPQUFPUyxJQUFJLENBQUNDLFdBQVcsQ0FBQ0MsTUFBTSxDQUFDO1lBQ3BEQyxPQUFPO1lBQ1BDLFVBQVU7Z0JBQ1I7b0JBQ0VDLE1BQU07b0JBQ05DLFNBQVMsQ0FBQzs7Ozs7Ozs0RkFPd0UsQ0FBQztnQkFDckY7Z0JBQ0E7b0JBQ0VELE1BQU07b0JBQ05DLFNBQVMsQ0FBQyx5Q0FBeUMsRUFBRVIsUUFBUTtnQkFDL0Q7YUFDRDtZQUNEUyxpQkFBaUI7Z0JBQUVDLE1BQU07WUFBYztRQUN6QztRQUVBLE1BQU1DLFNBQVNDLEtBQUtDLEtBQUssQ0FBQ1osU0FBU2EsT0FBTyxDQUFDLEVBQUUsQ0FBQ0MsT0FBTyxDQUFDUCxPQUFPLElBQUk7UUFFakUsT0FBTztZQUNMUSxPQUFPQyxLQUFLQyxHQUFHLENBQUMsR0FBR0QsS0FBS0UsR0FBRyxDQUFDLEtBQUtGLEtBQUtHLEtBQUssQ0FBQ1QsT0FBT0ssS0FBSyxJQUFJO1lBQzVESyxZQUFZVixPQUFPVSxVQUFVLElBQUk7UUFDbkM7SUFDRixFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGlDQUFpQ0E7UUFDL0MsOENBQThDO1FBQzlDLE9BQU87WUFDTE4sT0FBTztZQUNQSyxZQUFZO1FBQ2Q7SUFDRjtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL3NyYy9saWIveGFpLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHhBSSBpbnRlZ3JhdGlvbiBmb3IgZG9tYWluIGJyYW5kYWJpbGl0eSBzY29yaW5nXG4vLyBCYXNlZCBvbiBqYXZhc2NyaXB0X3hhaSBibHVlcHJpbnRcblxuaW1wb3J0IE9wZW5BSSBmcm9tIFwib3BlbmFpXCI7XG5cbmNvbnN0IG9wZW5haSA9IG5ldyBPcGVuQUkoeyBcbiAgYmFzZVVSTDogXCJodHRwczovL2FwaS54LmFpL3YxXCIsIFxuICBhcGlLZXk6IHByb2Nlc3MuZW52LlhBSV9BUElfS0VZIFxufSk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJhbmRhYmlsaXR5UmVzdWx0IHtcbiAgc2NvcmU6IG51bWJlcjtcbiAgY29tbWVudGFyeTogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZUJyYW5kYWJpbGl0eShkb21haW46IHN0cmluZyk6IFByb21pc2U8QnJhbmRhYmlsaXR5UmVzdWx0PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvcGVuYWkuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgbW9kZWw6IFwiZ3Jvay0yLTEyMTJcIixcbiAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlOiBcInN5c3RlbVwiLFxuICAgICAgICAgIGNvbnRlbnQ6IGBZb3UgYXJlIGEgZG9tYWluIGJyYW5kaW5nIGV4cGVydC4gQW5hbHl6ZSB0aGUgYnJhbmRhYmlsaXR5IG9mIGRvbWFpbiBuYW1lcyBiYXNlZCBvbjpcbiAgICAgICAgICAtIFByb25vdW5jZWFiaWxpdHkgKGhvdyBlYXN5IGl0IGlzIHRvIHNheSlcbiAgICAgICAgICAtIE1lbW9yYWJpbGl0eSAoaG93IGVhc3kgaXQgaXMgdG8gcmVtZW1iZXIpXG4gICAgICAgICAgLSBVbmlxdWVuZXNzIChob3cgZGlzdGluY3RpdmUgaXQgaXMpXG4gICAgICAgICAgLSBDb21tZXJjaWFsIGFwcGVhbCAoaG93IHN1aXRhYmxlIGZvciBidXNpbmVzcyB1c2UpXG4gICAgICAgICAgXG4gICAgICAgICAgUHJvdmlkZSBhIHNjb3JlIGZyb20gMC0xMDAgYW5kIGEgYnJpZWYgMi0zIHNlbnRlbmNlIGV4cGxhbmF0aW9uLlxuICAgICAgICAgIFJlc3BvbmQgd2l0aCBKU09OIGluIHRoaXMgZm9ybWF0OiB7IFwic2NvcmVcIjogbnVtYmVyLCBcImNvbW1lbnRhcnlcIjogXCJleHBsYW5hdGlvblwiIH1gXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICBjb250ZW50OiBgQW5hbHl6ZSB0aGUgYnJhbmRhYmlsaXR5IG9mIHRoaXMgZG9tYWluOiAke2RvbWFpbn1gXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgcmVzcG9uc2VfZm9ybWF0OiB7IHR5cGU6IFwianNvbl9vYmplY3RcIiB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXNwb25zZS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudCB8fCAne30nKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzY29yZTogTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCBNYXRoLnJvdW5kKHJlc3VsdC5zY29yZSB8fCAwKSkpLFxuICAgICAgY29tbWVudGFyeTogcmVzdWx0LmNvbW1lbnRhcnkgfHwgXCJVbmFibGUgdG8gYW5hbHl6ZSBicmFuZGFiaWxpdHkgYXQgdGhpcyB0aW1lLlwiXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdCcmFuZGFiaWxpdHkgYW5hbHlzaXMgZmFpbGVkOicsIGVycm9yKTtcbiAgICAvLyBSZXR1cm4gYSBuZXV0cmFsIHNjb3JlIGlmIEFJIGFuYWx5c2lzIGZhaWxzXG4gICAgcmV0dXJuIHtcbiAgICAgIHNjb3JlOiA1MCxcbiAgICAgIGNvbW1lbnRhcnk6IFwiQUkgYW5hbHlzaXMgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUuIE1hbnVhbCByZXZpZXcgcmVjb21tZW5kZWQuXCJcbiAgICB9O1xuICB9XG59Il0sIm5hbWVzIjpbIk9wZW5BSSIsIm9wZW5haSIsImJhc2VVUkwiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiWEFJX0FQSV9LRVkiLCJhbmFseXplQnJhbmRhYmlsaXR5IiwiZG9tYWluIiwicmVzcG9uc2UiLCJjaGF0IiwiY29tcGxldGlvbnMiLCJjcmVhdGUiLCJtb2RlbCIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJyZXNwb25zZV9mb3JtYXQiLCJ0eXBlIiwicmVzdWx0IiwiSlNPTiIsInBhcnNlIiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJzY29yZSIsIk1hdGgiLCJtYXgiLCJtaW4iLCJyb3VuZCIsImNvbW1lbnRhcnkiLCJlcnJvciIsImNvbnNvbGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/xai.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = import("pg");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/openai"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fappraise%2Froute&page=%2Fapi%2Fappraise%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fappraise%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();